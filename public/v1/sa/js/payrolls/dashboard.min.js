String.prototype.verifyEmail=function(){return null!==this.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g)},String.prototype.isValidYoutubeLink=function(){return null!==this.match(/^(https?\:\/\/)?((www\.)?youtube\.com|youtu\.be)\/.+$/g)},String.prototype.isValidVimeoLink=function(){return null!==this.match(/^(http|https)?:\/\/(www\.|player\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|video\/|)(\d+)(?:|\/\?)$/gim)},String.prototype.isValidInteger=function(){return null!==this.match(/^[1-9]\d*$/g)};{function ml(e,n,t){e?($(".jsIPLoader[data-page='"+n+"']").show(),$(".jsIPLoader[data-page='"+n+"']").find(".jsIPLoaderText").html(t||"Please wait, while we are processing your request.")):($(".jsIPLoader[data-page='"+n+"']").hide(),$(".jsIPLoader[data-page='"+n+"']").find(".jsIPLoaderText").html("Please wait, while we are processing your request."))}}{function CB(){}}{function getErrorsStringFromArray(e,n){return"<strong><p>"+(n||"Please, resolve the following errors")+"</p></strong><br >"+e.join("<br />")}}{function getBrowserVersion(){var e,n=navigator.userAgent,t=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(n)||[])[1]||""):"Chrome"===t[1]&&null!=(e=n.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=n.match(/version\/(\d+)/i))&&t.splice(1,1,e[1]),t)}}{function generateBrowserAlert(){var e={chrome:55,edge:14,firefox:52,opera:42,safari:10.1,chromeandroid:55,firefoxandroid:52,operaandroid:42,safariios:10.3,samsumginternet:6},n=getBrowserVersion();if(e[n[0].toLowerCase()]&&n[1]<e[n[0].toLowerCase()])return alert("This module require '"+n[0]+"' with version greater or equal then '"+n[1]+"'.")}}{function uploadFile(t){return new Promise(function(n){var e=new FormData;e.append("file",t),$.ajax({url:apiURL+"uploader",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e}).success(function(e){n(e)}).fail(function(e){n(e.responseText)})})}}{function uploadStream(e){return new Promise(function(n){$.ajax({url:apiURL+"uploader/stream",method:"POST",timeout:0,contentType:"application/json",data:JSON.stringify({stream:e})}).success(function(e){n(e)}).fail(function(){n({})})})}}"undefined"!=typeof $&&($(".jsFilterPanel").height($(document).height()),$(document).on("click",".jsFilterSectionBtn",function(e){e.preventDefault();e=$(this).data("key");$(".jsFilterSection[data-key='"+e+"']").removeClass("hidden")}),$(document).on("click",".jsFilterSectionHideBtn",function(e){e.preventDefault();e=$(this).data("key");$(".jsFilterSection[data-key='"+e+"']").addClass("hidden")}),$(document).on("click",".jsExpandAdminView",function(e){e.preventDefault(),$(this).toggleClass("btn-success"),$(".jsExpandContent").toggleClass("col-sm-12 col-md-12 col-lg-12 col-xs-12 col-lg-9 col-md-9 col-sm-9"),$(".jsExpandSideBar").toggleClass("hidden")}));{function handleErrorResponse(e){return 0==e.status?alertify.alert("Errors!","The connection to the server has been lost. Kindly reach out to the system administrator for assistance.",CB):404==e.status?_error("The requested route doesn't exists."):(e=e.responseJSON||JSON.parse(e.responseText),alertify.alert("Errors!",e.errors.join("<br />"),CB))}}{function getQuestionsFromArray(e,n){return"<strong><p>"+(n||"Please, provide the following question answer.")+"</p></strong><br >"+e.join("<br />")}}{function baseUrl(e=""){return window.location.origin+"/"+e}}{function callButtonHook(e,n=!0){if(n)return n={pointer:e,html:e.html()},e.html('<i class="fa fa-circle-o-notch fa-spin csW csF16" aria-hidden="true"></i>'),e.off("click"),n;e.pointer.html(e.html)}}{function _error(e){alertify.alert("Error!",e,CB).setHeader("Error!").set("labels",{ok:"Ok",cancel:"cancel"})}}{function _success(e,n=CB){alertify.alert("Success!",e,n).setHeader("Success!").set("labels",{ok:"Ok",cancel:"cancel"})}}{function _confirm(e,n){alertify.confirm(e,n,CB).setHeader("Confirm").set("labels",{ok:"Yes",cancel:"No"})}}{function getSegment(e){let n=window.location.pathname.split("/");return(n=n?.filter(function(e){return e?.trim()}))[e]}}{function getRandomCode(){return(new Date).getTime()+Math.floor(5e6*Math.random())}}$(function(){let t=null,n=null,r=null;const a=getSegment(2);$(".jsSyncCompanyData").click(function(e){e.preventDefault(),null===t&&($(".jsSyncCompanyData span").html("Syncing..."),t=$.ajax({url:baseUrl("sa/payrolls/company/"+a+"/sync"),method:"GET"}).success(function(){return alertify.alert("Success!","Company is synced with Gusto",CB)}).fail(handleErrorResponse).always(function(){t=null,$(".jsSyncCompanyData span").html("Sync")}))}),$(".jsVerifyBankAccount").click(function(e){e.preventDefault(),null===n&&($(".jsVerifyBankAccount span").html("Verifying..."),n=$.ajax({url:baseUrl("sa/payrolls/company/"+a+"/bank/verify"),method:"GET"}).success(function(){return alertify.alert("Success!","Company bank accounts are verified.",CB)}).fail(function(e){return alertify.alert("Error!",getErrorsStringFromArray((e.responseJSON||JSON.parse(e.responseText)).errors))}).always(function(){n=null,ml(!1,"jsDashboard"),$(".jsVerifyBankAccount span").html("Verify")}))}),$(".jsVerifyCompany").click(function(e){e.preventDefault(),null===r&&($(".jsVerifyCompany span").html("Verifying..."),r=$.ajax({url:baseUrl("sa/payrolls/company/"+a+"/verify"),method:"POST"}).success(function(){return alertify.alert("Success!","Company is verified.",CB)}).fail(function(e){return alertify.alert("Error!",getErrorsStringFromArray((e.responseJSON||JSON.parse(e.responseText)).errors))}).always(function(){r=null,ml(!1,"jsDashboard"),$(".jsVerifyCompany span").html("Verify")}))}),$(".jsSaveConfiguration").click(function(e){e.preventDefault();e={fast_speed_limit:$("#jsFastPaymentLimit").val().trim()||0,payment_speed:$("#jsPaymentSpeed option:selected").val()};null===t&&($(".jsSaveConfiguration span").html("Syncing..."),t=$.ajax({url:baseUrl("sa/payrolls/company/"+a+"/payment/configuration"),method:"POST",data:e}).success(function(){return alertify.alert("Success!","Company payment configuration successfully updated.",CB)}).fail(handleErrorResponse).always(function(){t=null,$(".jsSaveConfiguration span").html("Save Payment Configuration")}))}),$("#jsCompanyModeForm").submit(function(e){e.preventDefault();e={mode:$("#jsCompanyMode option:selected").val()};if(null===t){const n=callButtonHook($(".jsCompanyModeBtn"),!0);t=$.ajax({url:baseUrl("sa/payrolls/company/"+a+"/mode"),method:"POST",data:e}).fail(handleErrorResponse).always(function(){t=null,callButtonHook(n,!1)}).success(function(e){return console.log(e),_success(e.msg,function(){window.location.reload()})})}}),$(".jsSaveDefaultAdmin").click(function(e){e.preventDefault();var e={first_name:$("#jsFirstName").val().trim(),last_name:$("#jsLastName").val().trim(),email_address:$("#jsEmail").val().trim()},n=[];if(e.first_name||n.push('"First name" is required.'),e.last_name||n.push('"Last name" is required.'),e.email_address||n.push('"Email" is required.'),n.length)return _error(getErrorsStringFromArray(n));n=e;null===t&&($(".jsSaveDefaultAdmin span").html("Saving..."),t=$.ajax({url:baseUrl("sa/payrolls/company/"+a+"/primary/admin"),method:"POST",data:n}).success(function(){return alertify.alert("Success!","Company primary admin save successfully.",CB)}).fail(handleErrorResponse).always(function(){t=null,$(".jsSaveDefaultAdmin span").html("Save Primary Admin")}))}),ml(!1,"jsDashboard")});
