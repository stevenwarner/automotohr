!function(){let a,n=0;$(document).on("click",".jsModalCancel",e=>{e.preventDefault(),"yes"==$(e.target).data("ask")?alertify.confirm("Any unsaved changes will be lost.",()=>{$(e.target).closest(".csModal").fadeOut(300),$("body").css("overflow-y","auto"),$("#ui-datepicker-div").remove(),$(".jsMsModal").remove()}).set("labels",{ok:"LEAVE",cancel:"NO, I WILL STAY"}).set("title","Notice!"):($(e.target).closest(".csModal").fadeOut(300),$("body").css("overflow-y","auto"),$(".jsMsModal").remove(),$("#ui-datepicker-div").remove())}),window._ml=window.ml=function(e,t,o){t=void 0===t?".jsIPLoader":`.jsIPLoader[data-page="${t}"]`,void 0!==a&&document.getElementsByClassName("csModalBody").length&&(document.getElementsByClassName("csModalBody")[0].scrollTop=0),void 0!==a&&e&&$(".jsIPLoader").height($(`#${a}Body`).height()+n),void 0===e||!1===e?$(t).hide():$(t).show(),void 0!==o&&$(".jsIPLoaderText").html(o),e||$(".jsIPLoaderText").html("Please wait, while we are generating a preview.")},window.Model=window.Modal=function(e,t){var o=`
			<!-- Custom Modal -->
			<div class="csModal jsMsModal" id="${e.Id}">
				<div class="${e.Cl||"container"}">
					<div class="csModalHeader">
						<h3 class="csModalHeaderTitle">
							<span>${e.Title}</span>
							<span class="csModalButtonWrap">
							${void 0!==e.Buttons&&0!==e.Buttons.length?e.Buttons.join(""):""}
								<button class="btn btn-black btn-cancel csW jsModalCancel" ${void 0===e.Ask?"":'data-ask="no"'} title="Close this window">Cancel</button>
							</span>
							<div class="clearfix"></div>
						</h3>
					</div>
					<div class="csModalBody">
						<div class="csIPLoader jsIPLoader" data-page="${e.Loader}">
							<div class="csIPLoaderBox">
								<i class="fa fa-circle-o-notch fa-spin" aria-hidden="true"></i><br><br>
								<br>
								<span class="jsIPLoaderText">Please wait while we process your request.</span>
							</div>
						</div>
						${e.Body}
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
			`;a=e.Id,n=$(`#${e.Id} .csModalHeader`).height()+50,$(".jsMsModal").remove(),$("#"+e.Id).remove(),$("body").append(o),$("#"+e.Id).fadeIn(300),$("body").css("overflow-y","hidden"),$(`#${e.Id} .csModalBody`).css("top",n),void 0!==t&&t()}}(),function(m){let g={};m.fn.msFileUploader=function(e){let t=1<this.length?this[0]:this;if("string"==typeof e){switch(e){case"get":return g[t.selector];case"clear":return delete g[t.selector]}return}let r={},o=Math.ceil(1e3*Math.random()),i={},a=(g[t.selector]=r,i.s3=void 0!==e&&e.s3||"https://automotohrattachments.s3.amazonaws.com/",i.path=void 0===e||void 0===e.path||e.path,i.placeholderImage=void 0!==e&&e.placeholderImage||"",i.fileLimit=void 0===e||-1===m.inArray("mp4",e.allowedTypes)?-1:e.fileLimit,i.allowedTypes=void 0!==e&&e.allowedTypes||["jpg","jpeg","png","gif","pdf","doc","docx","rtf","ppt","xls","xlsx","csv","zip","mov","mp4"],i.text=void 0!==e&&e.text||"Click / Drag to upload",i.onSuccess=void 0!==e&&e.onSuccess||function(){},i.onError=void 0!==e&&e.onError||function(){},i.onClear=void 0!==e&&e.onClear||function(){},i.mainDivName="jsUploadArea"+o,i.mainImageViewer="jsUploadedImageArea"+o,i.errorMSG="jsUploadedAreaError"+o,i.jsMFUPreviewFile="jsMFUPreviewFile"+o,i.jsMFUClearFile="jsMFUClearFile"+o,i.jsMFUModal="jsMFUModal"+o,i.jsMFUD="jsMFUD"+o,i.allowLinks=e.allowLinks||!1,i.activeLink=e.activeLink||"upload",i.allowCapture=e.allowCapture||!1,{size:"File size exceeded from "+i.fileLimit,type:"Invalid file type."});m(t.selector).siblings("div.jsMainUploadAreaWrapper").remove(),m.fn.msFileUploader.__proto__.instances[t.selector]={},void 0!==m.fn.msFileUploader.instances[t.selector]&&(m(t.selector).siblings("div.csUploadArea").remove(),m.fn.msFileUploader.__proto__.instances[t.selector]={});const n=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/android|ipad|iphone|ipod|tablet|mobile/i.test(e)},l=()=>{let e="";return e=(e=(e=(e=(e=(e=e+'<div class="row">'+'\t<div class="col-sm-2 col-xs-12">')+('<label class="control control--radio">     \t\t\t\t\t<input type="radio" name="jsSourceType'+o+'" value="upload" /> Upload     \t\t\t\t\t<div class="control__indicator"></div> \t\t\t\t\t</label>'))+"\t</div>"+'\t<div class="col-sm-2 col-xs-12">')+('<label class="control control--radio">     \t\t\t\t\t<input type="radio" name="jsSourceType'+o+'" value="youtube" /> YouTube     \t\t\t\t\t<div class="control__indicator"></div> \t\t\t\t\t</label>'))+"\t</div>"+'\t<div class="col-sm-2 col-xs-12">')+('<label class="control control--radio">     \t\t\t\t\t<input type="radio" name="jsSourceType'+o+'" value="vimeo" /> Vimeo     \t\t\t\t\t<div class="control__indicator"></div> \t\t\t\t\t</label>')+"\t</div>",n()&&(e=(e=(e=(e+='\t<div class="col-sm-2 col-xs-12">')+'<label class="control control--radio"> \t\t\t\t\t\t\t<input type="radio" name="jsSourceType'+o+'" value="capture_photo" /> Capture Photo \t\t\t\t\t\t\t<div class="control__indicator"></div> \t\t\t\t\t\t</label>')+'\t</div>\t<div class="col-sm-2 col-xs-12">')+'<label class="control control--radio"> \t\t\t\t\t\t\t<input type="radio" name="jsSourceType'+o+'" value="record_video" /> Record Video \t\t\t\t\t\t\t<div class="control__indicator"></div> \t\t\t\t\t\t</label>\t</div>'),e=(e=(e=(e=(e=(e=(e+="</div><br />")+'<div class="row hidden">'+'\t<div class="col-sm-12">')+('<div class="input-group">     \t\t\t\t\t<div class="input-group-addon">YouTube</div>     \t\t\t\t\t<input type="text" class="form-control" id="jsYoutubeLink'+o+'" placeholder="https://www.youtube.com/watch?v=g4BsAB3PliY" value="'+i.placeholderImage+'" /> \t\t\t\t\t</div>'))+"\t</div>"+"<br /></div>")+'<div class="row hidden">'+'\t<div class="col-sm-12">')+('<div class="input-group">     \t\t\t\t\t<div class="input-group-addon">Vimeo</div>     \t\t\t\t\t<input type="text" class="form-control" id="jsVimeoLink'+o+'" placeholder="https://vimeo.com/XXXXXXXXX"  value="'+i.placeholderImage+'"/> \t\t\t\t\t</div>'))+"\t</div>"+"<br /></div>",e=i.allowCapture?(e+=`
					<input type="file" id="cameraInput${o}" accept="image/*" capture="environment" style="display: none;" />
				`)+`
					<input type="file" id="videoInput${o}" accept="video/*" capture="environment" style="display: none;" />
				`:e},s=()=>`
            <div class="jsMainUploadAreaWrapper">
				${i.allowLinks||i.allowCapture?l():""}
                <div class="csUploadArea hidden" id="${i.mainDivName}">
                    <div class="csUploadInnerArea">
                        <p>${i.text}</p>
                        ${-1!=i.fileLimit?`<em style="color:rgb(255, 155, 0);"><i class="fa fa-warning"></i> Maximum allowed file size is ${i.fileLimit}</em><br />`:""}
                        <span style="word-break: break-all;">(${i.allowedTypes})</span> <br /><br />
                        <span style="color: red; font-weight: bold; display: none;  word-break: break-all;" id="${i.errorMSG}"></span>
                        <div style="${"upload"===i.activeLink&&i.placeholderImage?"":"display: none;"}">
                            <button class="btn btn-success" id="${i.jsMFUPreviewFile}" data-key="${i.placeholderImage}">Preview File</button>
                            <button class="btn btn-default" id="${i.jsMFUClearFile}" style="display: none;">Clear File</button>
                        </div>
                    </div>
                    <!-- Image -->
                </div>
                <div class="clearfix"></div>
            </div>
            `,d=e=>{e=(void 0===e?r.name:e).split(".");return e[e.length-1].toLowerCase().trim()},c=()=>{var e=i.fileLimit.replace(/\s+/,"").toUpperCase().split(/([0-9]+)([A-Za-z]+)/);return"MB"==(e=[e[1],e[2]])[1]?1e6*e[0]:"GB"==e[1]?1e3*e[0]*1e6:"KB"==e[1]?1e3*e[0]:0},u=e=>{var t;e&&((t=new FileReader).onload=e=>{m("#"+i.jsMFUPreviewFile).data("key",e.target.result),m("#"+i.jsMFUPreviewFile).parent().show(),m("#"+i.jsMFUClearFile).show()},t.readAsDataURL(e))},p=e=>{m("#"+i.jsMFUPreviewFile).parent().hide(0),m("#"+i.jsMFUClearFile).hide(0),m("#"+i.errorMSG).hide(),m("#"+i.mainImageViewer).parent().hide(),m("#"+i.mainImageViewer).attr("src",null),m("#"+i.mainImageViewer).parent().find("label span").text(""),r.hasOwnProperty("hasError")&&(r.hasError=!1),-1===m.inArray(d(),i.allowedTypes)?(m("#"+i.errorMSG).text(a.type).show(),i.onError(a.type,e),r.hasError=!0,r.errorCode=a.type,g[t.selector]=r,r={}):-1!==i.fileLimit&&r.size>c()?(m("#"+i.errorMSG).text(a.size).show(),i.onError(a.size,e),r.hasError=!0,r.errorCode=a.size,g[t.selector]=r,r={}):(u(r),r.hasError=!1,g[t.selector]=r,i.onSuccess(r,e))};return this.getValue=()=>r,m(document).on("drop","#"+i.mainDivName,function(e){e.preventDefault(),r=e.originalEvent.dataTransfer.files[0],p(e)}),m(document).on("dragenter","#"+i.mainDivName,function(e){e.preventDefault(),m(this).css("opacity",".8")}),m(document).on("dragover","#"+i.mainDivName,function(e){e.preventDefault(),m(this).css("opacity","1")}),m(document).on("click","#"+i.mainDivName,function(e){e.preventDefault(),m(t).trigger("click")}),m(document).on("change",t.selector,function(e){e.target.files&&(r=e.target.files[0],p(e))}),m(document).on("click","."+i.jsMFUD,function(e){e.preventDefault(),e.stopPropagation();let t="",o="";o=null===m("#"+i.jsMFUPreviewFile).data("key").match(/data:/)?(t=m("#"+i.jsMFUPreviewFile).data("key"),i.path?i.s3+t:t):(t=r.name,m("#"+i.jsMFUPreviewFile).data("key"));e=document.createElement("a");e.target="_blank",e.href=o,e.download=t,e.dispatchEvent(new MouseEvent("click"))}),m(document).on("click","#"+i.jsMFUClearFile,function(e){e.preventDefault(),e.stopPropagation(),m("#"+i.jsMFUPreviewFile).parent().hide(0),m("#"+i.jsMFUClearFile).hide(0),r={},g[t.selector]=r,""!=i.placeholderImage&&"upload"===i.activeLink&&(m("#"+i.jsMFUPreviewFile).data("key",i.placeholderImage),m("#"+i.jsMFUPreviewFile).parent().show(0)),i.onClear()}),m(document).on("click","#"+i.jsMFUPreviewFile,function(e){e.preventDefault(),e.stopPropagation();let t="",o="",a="",n="";n=null===m(this).data("key").match(/data:/)?(t=m(this).data("key"),o=d(t),a=i.path?i.s3+t:t,-1!==m.inArray(o,["xls","xlsx","ppt","pptx","doc","docx","rtf","csv"])?`<iframe frameborder="0" width="100%" height="600" class="jsMFUIframe" src="https://view.officeapps.live.com/op/embed.aspx?src=${encodeURI(a)}"></iframe>`:-1!==m.inArray(o,["png","jpg","jpeg","gif","webp","svg"])?`<img class="img-responsive" src="${a}" />`:-1!==m.inArray(o,["mp4"])?`<video style="width: 100%;" class="img-responsive" src="${a}" controls></video>`:-1!==m.inArray(o,["zip"])?`<iframe frameborder="0" style="width: 100%; height: 600px;" class="jsMFUIframe" src="${a}"></iframe>`:`<iframe frameborder="0" style="width: 100%; height: 600px;" class="jsMFUIframe" src="https://docs.google.com/gview?url=${a}&embedded=true"></iframe>`):(t=r.name,o=d(),a=m(this).data("key"),-1!==m.inArray(o,["png","jpg","jpeg","gif","svg"])?`<img class="img-responsive" src="${a}" />`:-1!==m.inArray(o,["mp4"])?`<video class="img-responsive" src="${a}" controls></video>`:`<iframe frameborder="0" style="width: 100%; height: 600px;" class="jsMFUIframe" src="${a}"></iframe>`),e=t;e=`
            <!-- Modal -->
            <div class="modal fade" id="${i.jsMFUModal}" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: #81b431; color: #ffffff;">
                            <h5 class="modal-title">${e}</h5>
                        </div>
                        <div class="modal-body" style="min-height: 300px;">
                            <div class="csMFULoader jsMFULoader"><i class="fa fa-circle-o-notch fa-spin"></i></div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success ${i.jsMFUD}">Download</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
            `;m("#"+i.jsMFUModal).remove(),m("body").append(e),m("#"+i.jsMFUModal).modal("show"),n.match(/img/),m(`#${i.jsMFUModal} .modal-body`).html(n)}),m(document).on("click",`[name="jsSourceType${o}"]`,function(){m("#"+i.mainDivName).addClass("hidden"),m("#jsYoutubeLink"+o).closest(".row").addClass("hidden"),m("#jsVimeoLink"+o).closest(".row").addClass("hidden"),m("#"+i.jsMFUClearFile).trigger("click"),m("#jsYoutubeLink"+o).val(""),m("#jsVimeoLink"+o).val(""),"upload"===m(this).val()?(m("#"+i.mainDivName).removeClass("hidden"),g[t.selector]={}):"youtube"===m(this).val()?(m("#jsYoutubeLink"+o).closest(".row").removeClass("hidden"),g[t.selector]={type:"youtube",link:"",hasError:!0}):"vimeo"===m(this).val()?(m("#jsVimeoLink"+o).closest(".row").removeClass("hidden"),g[t.selector]={type:"vimeo",link:"",hasError:!0}):"capture_photo"===m(this).val()?(g[t.selector]={type:"upload",link:"",hasError:!0},m("#cameraInput"+o).trigger("click")):"record_video"===m(this).val()&&(g[t.selector]={type:"upload",link:"",hasError:!0},m("#videoInput"+o).trigger("click"))}),m(document).on("keyup","#jsYoutubeLink"+o,function(){m(".jsErrorRow"+o).remove();var e=m(this).val().trim();!function(e){if(null!=e||""!=e)return(e=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/))&&11==e[2].length?1:void 0}(e)?(g[t.selector].hasError=!0,g[t.selector].link="",m(this).closest(".input-group").after('<p class="jsErrorRow'+o+' text-danger"><strong>YouTube url is not valid.</strong></p>')):(g[t.selector].hasError=!1,g[t.selector].link=e)}),m(document).on("keyup","#jsVimeoLink"+o,function(){m(".jsErrorRow"+o).remove();var e=m(this).val().trim();!function(e){if(null!=e||""!=e)return e.match(/^(http|https)?:\/\/(www\.|player\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|video\/|)(\d+)(?:|\/\?)$/gim)}(e)?(g[t.selector].hasError=!0,g[t.selector].link="",m(this).closest(".input-group").after('<p class="jsErrorRow'+o+' text-danger"><strong>Vimeo url is not valid.</strong></p>')):(g[t.selector].hasError=!1,g[t.selector].link=e)}),m(t).before(s()),m(`[name="jsSourceType${o}"][value="${i.activeLink}"]`).prop("checked",!0),"upload"===i.activeLink?m("#"+i.mainDivName).removeClass("hidden"):"youtube"===i.activeLink?m("#jsYoutubeLink"+o).closest(".row").removeClass("hidden"):"vimeo"===i.activeLink&&m("#jsVimeoLink"+o).closest(".row").removeClass("hidden"),""!=i.placeholderImage&&(g[t.selector].type=i.activeLink,g[t.selector].link=i.placeholderImage,g[t.selector].hasError=!1),this},m.fn.msFileUploader.__proto__.instances=g}(jQuery||$),String.prototype.verifyEmail=function(){return null!==this.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g)},String.prototype.isValidYoutubeLink=function(){return null!==this.match(/^(https?\:\/\/)?((www\.)?youtube\.com|youtu\.be)\/.+$/g)},String.prototype.isValidVimeoLink=function(){return null!==this.match(/^(http|https)?:\/\/(www\.|player\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|video\/|)(\d+)(?:|\/\?)$/gim)},String.prototype.isValidInteger=function(){return null!==this.match(/^[1-9]\d*$/g)},String.prototype.toSlug=function(){return this.replace(/[^a-z0-9]/gi,"-").replace(/-+/g,"-").replace(/-$/,"").toLowerCase()};{function ml(e,t,o){e?($(".jsIPLoader[data-page='"+t+"']").show(),$(".jsIPLoader[data-page='"+t+"']").find(".jsIPLoaderText").html(o||"Please wait, while we are processing your request.")):($(".jsIPLoader[data-page='"+t+"']").hide(),$(".jsIPLoader[data-page='"+t+"']").find(".jsIPLoaderText").html("Please wait, while we are processing your request."))}}{function CB(){}}{function getErrorsStringFromArray(e,t){return"<strong><p>"+(t||"Please, resolve the following errors")+"</p></strong><br >"+e.join("<br />")}}{function getBrowserVersion(){var e,t=navigator.userAgent,o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===o[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&o.splice(1,1,e[1]),o)}}{function generateBrowserAlert(){var e={chrome:55,edge:14,firefox:52,opera:42,safari:10.1,chromeandroid:55,firefoxandroid:52,operaandroid:42,safariios:10.3,samsumginternet:6},t=getBrowserVersion();if(e[t[0].toLowerCase()]&&t[1]<e[t[0].toLowerCase()])return alert("This module require '"+t[0]+"' with version greater or equal then '"+t[1]+"'.")}}{function uploadFile(o){return new Promise(function(t){var e=new FormData;e.append("file",o),$.ajax({url:apiURL+"uploader",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:e}).success(function(e){t(e)}).fail(function(e){t(e.responseText)})})}}{function uploadStream(e){return new Promise(function(t){$.ajax({url:apiURL+"uploader/stream",method:"POST",timeout:0,contentType:"application/json",data:JSON.stringify({stream:e})}).success(function(e){t(e)}).fail(function(){t({})})})}}"undefined"!=typeof $&&($(".jsFilterPanel").height($(document).height()),$(document).on("click",".jsFilterSectionBtn",function(e){e.preventDefault();e=$(this).data("key");$(".jsFilterSection[data-key='"+e+"']").removeClass("hidden")}),$(document).on("click",".jsFilterSectionHideBtn",function(e){e.preventDefault();e=$(this).data("key");$(".jsFilterSection[data-key='"+e+"']").addClass("hidden")}),$(document).on("click",".jsExpandAdminView",function(e){e.preventDefault(),$(this).toggleClass("btn-success"),$(".jsExpandContent").toggleClass("col-sm-12 col-md-12 col-lg-12 col-xs-12 col-lg-9 col-md-9 col-sm-9"),$(".jsExpandSideBar").toggleClass("hidden")}));{function handleErrorResponse(e){return 0==e.status?alertify.alert("Errors!","The connection to the server has been lost. Kindly reach out to the system administrator for assistance.",CB):404==e.status?_error("The requested route doesn't exists."):(e=e.responseJSON||JSON.parse(e.responseText),alertify.closeAll(),alertify.alert("Errors!",e.errors.join("<br />"),CB).setting({autoReset:!0,frameless:!1}))}}{function getQuestionsFromArray(e,t){return"<strong><p>"+(t||"Please, provide the following question answer.")+"</p></strong><br >"+e.join("<br />")}}{function baseUrl(e=""){return e=e.replace(/^\//g,""),window.location.origin+"/"+e}}{function callButtonHook(e,t=!0,o=!1){if(t)return t={pointer:e,html:e.html()},e.html(o?'<i class="fa-solid fa-circle-notch fa-spin csW csF16" aria-hidden="true"></i>':'<i class="fa fa-circle-o-notch fa-spin csW csF16" aria-hidden="true"></i>'),e.off("click"),t;e.pointer.html(e.html)}}{function _error(e){alertify.alert("Error!",e,CB).setHeader("Error!").set("labels",{ok:"Ok",cancel:"cancel"}).setting({autoReset:!0,frameless:!1})}}{function _success(e,t=CB){alertify.alert("Success!",e,t).setHeader("Success!").set("labels",{ok:"Ok",cancel:"cancel"}).setting({autoReset:!0,frameless:!1})}}{function _confirm(e,t){alertify.confirm(e,t,CB).setHeader("Confirm").set("labels",{ok:"Yes",cancel:"No"}).setting({autoReset:!0,frameless:!1})}}{function _showNotification(e){return alertify.alert('<div class="row"> \t\t\t\t\t<div class="col-sm-12">\t\t\t\t\t\t<p class="csF16 text-center" style="margin-top: 25px;">'+e+"</p> \t\t\t\t\t<div> \t\t\t\t</div>").setting({closable:!1,frameless:!0,autoReset:!0})}}{function getSegment(e){let t=window.location.pathname.split("/");return(t=t?.filter(function(e){return e?.trim()}))[e]}}{function getRandomCode(){return(new Date).getTime()+Math.floor(5e6*Math.random())}}{function closeAlert(e){e.setting("closable",!0).close()}}{function formArrayToObj(e,t=!1){if(t){let t={};return e.map(function(e){t[e.name]=e.value}),t}let o=new FormData;return e.map(function(e){o.append(e.name,e.value)}),o}}{function nl2br(e,t){return null==e?"":((e=e.replace(/<br(.*?)>/gi,""))+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(t||void 0===t?"<br />":"<br>")+"$2")}}{function isValidFile(e){return 0!==Object.keys(e).length&&!1===e.hasError}}void 0===window.location.refresh&&(window.location.refresh=function(){window.location.href=window.location.href}),void 0!==jQuery&&void 0!==jQuery.validator&&(jQuery.validator.addMethod("timeIn12Format",function(e){return e.match(/^\d{1,2}:\d{1,2}\s(pm|am)$/gi)},"The time format is invalid."),jQuery.validator.addMethod("greaterThanZero",function(e){return 0<e},"The value must be greater than zero."));{function getSearchParam(e){return new URLSearchParams(window.location.search).get(e)||!1}}{function convertSecondsToTime(e){var t=Math.floor(e/3600),e=Math.floor(e%3600/60);return t+"h"+(0<e?" "+e+"m":"")}}$(function(){let n=null;$("#jsMetaForm").validate({ignore:[],rules:{meta_title:{required:!0},meta_description:{required:!0},meta_keywords:{required:!0}},messages:{meta_title:{minlength:"The meta title can be between 50 to 60 characters."},meta_description:{minlength:"The meta description can be between 50 to 160 characters."}},submitHandler:function(e){{if(null!==n)return!1;const t=formArrayToObj($(e).serializeArray()),o=getSegment(2),a=callButtonHook($("#jsMetaBtn"),!0);n=$.ajax({url:baseUrl("cms/"+o+"/meta"),method:"POST",data:t,processData:!1,contentType:!1}).always(function(){n=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=meta")})})}}})}),$(function(){let r=null;window.processPage=function(e,t,o){if(null!==r)return!1;var a=getSegment(2);const n=callButtonHook(t,!0);r=$.ajax({url:baseUrl("cms/"+a+"/page/"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){r=null,callButtonHook(n,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page="+o)})})},window.processPageSection=function(e,t,o){if(null!==r)return!1;var a=getSegment(2);const n=callButtonHook(t,!0);r=$.ajax({url:baseUrl("cms/"+a+"/page/section"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){r=null,callButtonHook(n,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page="+o)})})},window.processOldData=function(e,t,o){if(null!==r)return!1;var a=getSegment(2);const n=callButtonHook(t,!0);r=$.ajax({url:baseUrl("cms/"+a+"/section/"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){r=null,callButtonHook(n,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page="+o)})})},window.processCardSection=function(e,t,o){if(null!==r)return!1;var a=getSegment(2);const n=callButtonHook(t,!0);r=$.ajax({url:baseUrl("cms/"+a+"/tag/card"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){r=null,callButtonHook(n,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page="+o)})})}}),$(function(){let i=null;function t(){null!==i&&i.abort(),i=$.ajax({url:baseUrl("cms/page/banner"),method:"GET"}).always(function(){i=null}).fail(handleErrorResponse).done(function(e){$("#jsAddSliderModalBody").html(e.view),$("#bannerImage").msFileUploader({fileLimit:"200mb",allowedTypes:["jpg","jpeg","png","gif","webp"]}),$("#jsAddBannerForm").validate({ignore:[],rules:{heading:{required:!0},details:{required:!0},button_text:{required:!0},button_link:{required:!0}},submitHandler:function(e){if(!isValidFile($("#bannerImage").msFileUploader("get")))return _error("Banner image is required.");{if(null!==i)return!1;const t=formArrayToObj($(e).serializeArray()),o=getSegment(2),a=callButtonHook($(".jsSaveBanner"),!0);t.append("banner_image",$("#bannerImage").msFileUploader("get")),i=$.ajax({url:baseUrl("cms/"+o+"/slider/"),method:"POST",data:t,processData:!1,contentType:!1}).always(function(){i=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=slider")})})}}}),ml(!1,"jsAddSliderModalLoader")})}$(".jsAddBanner").click(function(e){e.preventDefault(),Modal({Id:"jsAddSliderModal",Loader:"jsAddSliderModalLoader",Body:'<div id="jsAddSliderModalBody"></div>',Title:"Add a banner"},t)}),$(".jsEditBanner").click(function(e){e.preventDefault();const t=$(this).closest(".row").data("key");Modal({Id:"jsEditSliderModal",Loader:"jsEditSliderModalLoader",Body:'<div id="jsEditSliderModalBody"></div>',Title:"Edit a banner"},function(){var e=t;null!==i&&i.abort(),i=$.ajax({url:baseUrl("cms/page/"+getSegment(2)+"/banner/"+e),method:"GET"}).always(function(){i=null}).fail(handleErrorResponse).done(function(e){$("#jsEditSliderModalBody").html(e.view),$("#bannerEditImage").msFileUploader({fileLimit:"200mb",allowedTypes:["jpg","jpeg","png","gif","webp"],placeholderImage:e.data.image}),$("#jsUpdateBannerForm").validate({ignore:[],rules:{heading:{required:!0},details:{required:!0},button_text:{required:!0},button_link:{required:!0}},submitHandler:function(e){var t=$("#bannerEditImage").msFileUploader("get");if(!isValidFile(t))return _error("Banner image is required.");e=formArrayToObj($(e).serializeArray());void 0!==t.link?(e.append("source_type",t.type),e.append("source_link",t.link)):(e.append("source_type","upload"),e.append("file",t));{if(t=e,null!==i)return!1;const o=getSegment(2),a=callButtonHook($(".jsUpdateBanner"),!0);i=$.ajax({url:baseUrl("cms/"+o+"/slider/"+$("#jsId").val()),method:"POST",data:t,processData:!1,contentType:!1}).always(function(){i=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=slider")})})}}}),ml(!1,"jsEditSliderModalLoader")})})}),$(".jsDeleteBanner").click(function(e){e.preventDefault();const n=$(this).closest(".row").data("key"),r=$(this);return _confirm("Do you really want to delete this slider?",function(){{var e=n,t=r;const o=getSegment(2),a=callButtonHook(t,!0);i=$.ajax({url:baseUrl("cms/"+o+"/slider/"+e),method:"DELETE"}).always(function(){i=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=slider")})})}})})}),$(function(){let n=null;$("#jsFileContainerHomeSection1").msFileUploader({allowedTypes:["mov","mp4","jpg","jpeg","png","webp"],allowLinks:!0,activeLink:homeSection1FileObj.sourceType,placeholderImage:homeSection1FileObj.sourceFile,fileLimit:"200mb"}),$("#jsHomeSection1Form").validate({rules:{jsMainHeading:{required:!0},jsSubHeading:{required:!0},jsDetails:{required:!0},bullet1:{required:!0},bullet2:{required:!0},bullet3:{required:!0},bullet4:{required:!0},bullet5:{required:!0},bullet6:{required:!0},jsButtonText:{required:!0},jsButtonSlug:{required:!0}},submitHandler:function(e){var t=$("#jsFileContainerHomeSection1").msFileUploader("get");if(!isValidFile(t))return _error("Please select a valid source.");e=formArrayToObj($(e).serializeArray());void 0!==t.link?(e.append("source_type",t.type),e.append("source_link",t.link)):(e.append("source_type","upload"),e.append("file",t));{if(t=e,null!==n)return!1;const o=getSegment(2),a=callButtonHook($(".jsHomeSection1Btn"),!0);n=$.ajax({url:baseUrl("cms/"+o+"/home/section1/"),method:"POST",data:t,processData:!1,contentType:!1}).always(function(){n=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=home_section_1")})})}}})}),$(function(){let i=null;function t(){null!==i&&i.abort(),i=$.ajax({url:baseUrl("cms/page/home/product"),method:"GET"}).always(function(){i=null}).fail(handleErrorResponse).done(function(e){$("#jsAddModalBody").html(e.view),$("#sourceFile").msFileUploader({allowedTypes:["mov","mp4","jpg","jpeg","png","webp"],allowLinks:!0,activeLink:"upload",fileLimit:"200mb"}),$("#jsAddHomeProduct").validate({ignore:[],rules:{mainHeading:{required:!0},subHeading:{required:!0},details:{required:!0},button_text:{required:!0},button_link:{required:!0}},submitHandler:function(e){var t=$("#sourceFile").msFileUploader("get");if(!isValidFile(t))return _error("Please select a valid source.");e=formArrayToObj($(e).serializeArray());void 0!==t.link?(e.append("source_type",t.type),e.append("source_link",t.link)):(e.append("source_type","upload"),e.append("file",t));{if(t=e,null!==i)return!1;const o=getSegment(2),a=callButtonHook($(".jsSaveProductBtn"),!0);i=$.ajax({url:baseUrl("cms/"+o+"/home/product/"),method:"POST",data:t,processData:!1,contentType:!1}).always(function(){i=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=home_section_2")})})}}}),ml(!1,"jsAddModalLoader")})}function a(e,t,o){var a=getSegment(2);callButtonHook(t,!0);$.ajax({url:baseUrl("cms/"+a+"/home/product/status/"+e+"/"+o)}).fail(handleErrorResponse).done(function(e){_success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=home_section_2")})})}$("#jsHomeSection2Form").validate({rules:{jsMainHeading:{required:!0},jsSubHeading:{required:!0}},submitHandler:function(e){e=formArrayToObj($(e).serializeArray());{if(null!==i)return!1;const t=getSegment(2),o=callButtonHook($(".jsHomeSection2Btn"),!0);i=$.ajax({url:baseUrl("cms/"+t+"/home/section2/"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){i=null,callButtonHook(o,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=home_section_2")})})}}}),$(".jsHomeSection2AddProductBtn").click(function(e){e.preventDefault(),Modal({Id:"jsAddModal",Loader:"jsAddModalLoader",Body:'<div id="jsAddModalBody"></div>',Title:"Add a Product"},t)}),$(".jsEditHomeProduct").click(function(e){e.preventDefault();const t=$(this).closest(".row").data("key");Modal({Id:"jsEditModal",Loader:"jsEditModalLoader",Body:'<div id="jsEditModalBody"></div>',Title:"Edit a product"},function(){var e=t;null!==i&&i.abort(),i=$.ajax({url:baseUrl("cms/page/"+getSegment(2)+"/home/product/"+e),method:"GET"}).always(function(){i=null}).fail(handleErrorResponse).done(function(n){$("#jsEditModalBody").html(n.view),$("#sourceFileEdit").msFileUploader({allowedTypes:["mov","mp4","jpg","jpeg","png","webp"],allowLinks:!0,activeLink:n.sourceType,placeholderImage:n.sourceFile,fileLimit:"200mb"}),$("#jsEditHomeProduct").validate({ignore:[],rules:{mainHeading:{required:!0},subHeading:{required:!0},details:{required:!0},button_text:{required:!0},button_link:{required:!0}},submitHandler:function(e){var t=$("#sourceFileEdit").msFileUploader("get");if(!isValidFile(t))return _error("Please select a valid source.");e=formArrayToObj($(e).serializeArray());void 0!==t.link?(e.append("source_type",t.type),e.append("source_link",t.link)):(e.append("source_type","upload"),e.append("file",t));{if(t=e,e=n.index,null!==i)return!1;const o=getSegment(2),a=callButtonHook($(".jsUpdateProductBtn"),!0);i=$.ajax({url:baseUrl("cms/"+o+"/home/product/"+e),method:"POST",data:t,processData:!1,contentType:!1}).always(function(){i=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=home_section_2")})})}}}),ml(!1,"jsEditModalLoader")})})}),$(".jsDeleteHomeProduct").click(function(e){e.preventDefault();const n=$(this).closest(".row").data("key"),r=$(this);return _confirm("Do you really want to delete this product section?",function(){{var e=n,t=r;const o=getSegment(2),a=callButtonHook(t,!0);i=$.ajax({url:baseUrl("cms/"+o+"/home/product/"+e),method:"DELETE"}).always(function(){i=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=home_section_2")})})}})}),$(".jsDeactivateHomeProduct").click(function(e){e.preventDefault(),e.stopPropagation();const t=$(this).closest(".row").data("key"),o=$(this);return _confirm("Do you really want deactivate this section?",function(){a(t,o,"deactivate")})}),$(".jsActivateHomeProductSection").click(function(e){e.preventDefault(),e.stopPropagation();const t=$(this).closest(".row").data("key"),o=$(this);return _confirm("Do you really want activate this section?",function(){a(t,o,"activate")})})}),$(function(){let a=null;$("#jsProcessForm").validate({rules:{mainheading:{required:!0},heading:{required:!0},details:{required:!0},headingSub1:{required:!0},headingSub2:{required:!0},headingSub3:{required:!0},headingSub4:{required:!0},btnText:{required:!0},btnSlug:{required:!0}},submitHandler:function(e){e=formArrayToObj($(e).serializeArray());e.append("section","section9");{if(null!==a)return!1;const t=getSegment(2),o=callButtonHook($(".jsProcessBtn"),!0);a=$.ajax({url:baseUrl("cms/"+t+"/section/"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){a=null,callButtonHook(o,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=process")})})}}})}),$(function(){let n=null;$("#jsAboutSectionFile").msFileUploader({allowedTypes:["mov","mp4","jpg","jpeg","png","webp"],allowLinks:!0,activeLink:aboutObj.sourceType,placeholderImage:aboutObj.sourceFile,fileLimit:"200mb"}),$("#jsAboutSectionForm").validate({rules:{mainHeading:{required:!0},subHeading:{required:!0},ourMission:{required:!0},ourVision:{required:!0},notableBenefitHeading1:{required:!0},notableBenefitDetail1:{required:!0},notableBenefitHeading2:{required:!0},notableBenefitDetail2:{required:!0},notableBenefitHeading3:{required:!0},notableBenefitDetail3:{required:!0}},submitHandler:function(e){var t=$("#jsAboutSectionFile").msFileUploader("get");if(!isValidFile(t))return _error("Please select a valid source.");e=formArrayToObj($(e).serializeArray());e.append("section","about"),void 0!==t.link?(e.append("source_type",t.type),e.append("source_link",t.link)):(e.append("source_type","upload"),e.append("file",t));{if(t=e,null!==n)return!1;const o=getSegment(2),a=callButtonHook($(".jsAboutSectionBtn"),!0);n=$.ajax({url:baseUrl("cms/"+o+"/section/"),method:"POST",data:t,processData:!1,contentType:!1}).always(function(){n=null,callButtonHook(a,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=about_section")})})}}})}),$(function(){let a=null;$("#jsHighlightsForm").validate({rules:{mainheading:{required:!0},heading:{required:!0},details:{required:!0}},submitHandler:function(e){e=formArrayToObj($(e).serializeArray());e.append("section","specialhighlights");{if(null!==a)return!1;const t=getSegment(2),o=callButtonHook($(".jsHighlightsBtn"),!0);a=$.ajax({url:baseUrl("cms/"+t+"/section/"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){a=null,callButtonHook(o,!1)}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("manage_admin/edit_page/"+getSegment(2)+"/?page=highlights")})})}}})});
