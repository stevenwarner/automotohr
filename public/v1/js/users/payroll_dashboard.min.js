$(function(){let o=null;const a="jsModalPage",n=a+"Loader",s=a+"Body";function r(e,r,l){Modal({Id:a,Title:e,Body:'<div id="'+s+'"></div>',Loader:n},function(){var e=r,a=l;null!==o&&o.abort(),o=$.ajax({url:baseUrl("payrolls/page/"+e+"/"+profileUserInfo.userId+"/"+profileUserInfo.userType),method:"GET"}).always(function(){o=null}).fail(handleErrorResponse).done(function(e){$("#"+s).html(e.view),a(e)})})}function l(e,a){if(null===o){const r=callButtonHook(a,!0);o=$.ajax({url:baseUrl("payrolls/page/update"),method:"POST",data:e,processData:!1,contentType:!1}).always(function(){callButtonHook(r,!1),o=null}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("payrolls/dashboard/"+profileUserInfo.userType+"/"+profileUserInfo.userId)})})}}$(".jsEditPaySchedule").click(function(e){e.preventDefault(),r(profileUserInfo.nameWithRole,"pay_schedule",function(){ml(!1,n),$("#jsPagePayScheduleForm").validate({rules:{pay_schedule:{required:!0}},messages:{pay_schedule:{required:"Please select a pay schedule."}},submitHandler:function(e){e=formArrayToObj($(e).serializeArray());return e.append("page","pay_schedule"),e.append("userId",profileUserInfo.userId),e.append("userType",profileUserInfo.userType),l(e,$(".jsPagePayScheduleBtn"))}})})}),$(".jsEditJobWage").click(function(e){e.preventDefault(),r(profileUserInfo.nameWithRole,"job_and_wage",function(){ml(!1,n),$("#jsPageJobWageForm").validate({rules:{pay_schedule:{required:!0}},messages:{pay_schedule:{required:"Please select a pay schedule."}},submitHandler:function(e){e=formArrayToObj($(e).serializeArray());return e.append("page","pay_schedule"),e.append("userId",profileUserInfo.userId),e.append("userType",profileUserInfo.userType),l(e,$(".jsPageJobWageBtn"))}})})})});
