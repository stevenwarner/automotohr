$(function(){let n=null;const a="jsModalPage",o=a+"Loader",s=a+"Body";$(".jsPagePayScheduleForm").click(function(e){var l,r;e.preventDefault(),e=profileUserInfo.nameWithRole,l="pay_schedule",r=function(e){ml(!1,o),$("#jsPagePaySchedule").validate({rules:{pay_schedule:{required:!0}},messages:{pay_schedule:{required:"Please select a pay schedule."}},submitHandler:function(e){var e=formArrayToObj($(e).serializeArray()),a=(e.append("page","pay_schedule"),e.append("userId",profileUserInfo.userId),e.append("userType",profileUserInfo.userType),$(".jsPagePayScheduleBtn"));if(null===n){const l=callButtonHook(a,!0);n=$.ajax({url:baseUrl("attendance/page/update"),method:"POST",data:e}).always(function(){callButtonHook(l,!1),n=null}).fail(handleErrorResponse).done(function(e){return _success(e.msg,function(){window.location.href=baseUrl("payrolls/dashboard/"+profileUserInfo.userType+"/"+profileUserInfo.userId)})})}}})},Modal({Id:a,Title:e,Body:'<div id="'+s+'"></div>',Loader:o},function(){var e=l,a=r;null!==n&&n.abort(),n=$.ajax({url:baseUrl("attendance/page/"+e+"/"+profileUserInfo.userId+"/"+profileUserInfo.userType),method:"GET"}).always(function(){n=null}).fail(handleErrorResponse).done(function(e){$("#"+s).html(e.view),a(e)})})})});
