!function(){let a,o=0;$(document).on("click",".jsModalCancel",t=>{t.preventDefault(),"yes"==$(t.target).data("ask")?alertify.confirm("Any unsaved changes will be lost.",()=>{$(t.target).closest(".csModal").fadeOut(300),$("body").css("overflow-y","auto"),$("#ui-datepicker-div").remove(),$(".jsMsModal").remove()}).set("labels",{ok:"LEAVE",cancel:"NO, I WILL STAY"}).set("title","Notice!"):($(t.target).closest(".csModal").fadeOut(300),$("body").css("overflow-y","auto"),$(".jsMsModal").remove(),$("#ui-datepicker-div").remove())}),window._ml=window.ml=function(t,e,s){e=void 0===e?".jsIPLoader":`.jsIPLoader[data-page="${e}"]`,void 0!==a&&document.getElementsByClassName("csModalBody").length&&(document.getElementsByClassName("csModalBody")[0].scrollTop=0),void 0!==a&&t&&$(".jsIPLoader").height($(`#${a}Body`).height()+o),void 0===t||!1===t?$(e).hide():$(e).show(),void 0!==s&&$(".jsIPLoaderText").html(s),t||$(".jsIPLoaderText").html("Please wait, while we are generating a preview.")},window.Model=window.Modal=function(t,e){var s=`
			<!-- Custom Modal -->
			<div class="csModal jsMsModal" id="${t.Id}">
				<div class="${t.Cl||"container"}">
					<div class="csModalHeader">
						<h3 class="csModalHeaderTitle">
							<span>${t.Title}</span>
							<span class="csModalButtonWrap">
							${void 0!==t.Buttons&&0!==t.Buttons.length?t.Buttons.join(""):""}
								<button class="btn btn-black btn-cancel csW jsModalCancel" ${void 0===t.Ask?"":'data-ask="no"'} title="Close this window">Cancel</button>
							</span>
							<div class="clearfix"></div>
						</h3>
					</div>
					<div class="csModalBody">
						<div class="csIPLoader jsIPLoader" data-page="${t.Loader}">
							<div class="csIPLoaderBox">
								<i class="fa fa-circle-o-notch fa-spin" aria-hidden="true"></i><br><br>
								<br>
								<span class="jsIPLoaderText">Please wait while we process your request.</span>
							</div>
						</div>
						${t.Body}
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
			`;a=t.Id,o=$(`#${t.Id} .csModalHeader`).height()+50,$(".jsMsModal").remove(),$("#"+t.Id).remove(),$("body").append(s),$("#"+t.Id).fadeIn(300),$("body").css("overflow-y","hidden"),$(`#${t.Id} .csModalBody`).css("top",o),void 0!==e&&e()}}(),$(function(){let e=jsMapData;e.length?async function(){const s=new google.maps.Geocoder;var t=e.map(async function(t,e){s.geocode({location:{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}}).then(t=>{t.results[0]?console.log(t.results[0].formatted_address):console.log("Unknown Location")}).catch(t=>{console.log("Unknown Location")})});await Promise.all(t),console.log(e)}():$("#map").html('<p class="alert alert-info text-center">No footprints yet!</p>');{let s="";if(logs.length){let e=0;logs.forEach(function(t){e+=parseFloat(t.duration),s=(s=(s=(s=(s=(s+='<tr data-id="'+t.sid+'">')+'\t<td class="csVerticalAlignMiddle">\t\t<p>')+t.text)+"\t\t</p>\t</td>")+'\t<td class="csVerticalAlignMiddle text-right">\t\t<p>')+moment(t.startTime,"YYYY-MM-DD HH:mm:ss").format("hh:mm a")+"\t\t - ",t.endTime?s+=moment(t.endTime,"YYYY-MM-DD HH:mm:ss").format("hh:mm a"):s+="\t\tMissing",s+="\t\t</p>\t</td>",s=(s=(s=(s=t.location.onSiteFlag?(s=(s+='\t<td class="csVerticalAlignMiddle text-center ">')+'\t\t<p><i class="fa fa-check-circle text-success"></i>')+"\t\t</p>\t</td>":(s=(s=(s+='\t<td class="csVerticalAlignMiddle text-center">')+'\t\t<p><i class="fa fa-times-circle text-danger"></i><br />')+t.location.text)+"\t\t</p>\t</td>")+'\t<td class="csVerticalAlignMiddle text-right">\t\t<p>')+t.durationText+"\t\t</p>")+"\t</td></tr>"}),$(".jsTimeEntriesBox tbody").html(s),s=(s=(s=(s="<tr>")+'\t<th scope="col" colspan="4" class="csVerticalAlignMiddle text-right">\tTotal: ')+convertSecondsToTime(e))+"\t</th></tr>",$(".jsTimeEntriesBox tfoot").html(s)}else $(".jsTimeEntriesBox tbody").html('<tr><td colspan="4"><p class="alert alert-info text-center">No time entries yet!</p></td></tr>')}});
