$(function(){let u=null;const t="jsModalPage",o=t+"Loader",i=t+"Body";function n(e){const t={};return"daily"===e?["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(function(e){t[e]={overtime:{},double:{}},t[e].overtime.status=$('[name="'+e+'_overtime_status"]').prop("checked"),t[e].overtime.hours=t[e].overtime.status?$('[name="'+e+"_overtime_hours]").val():"",console.log(t[e].overtime)}):(t.overtime={status:"off",hours:""},t.double={status:"off",hours:""},t.overtime.status=$('[name="'+e+'_overtime_status"]').prop("checked"),t.overtime.status?t.overtime.hours=$('[name="'+e+'_overtime_hours"]').val():t.overtime.hours="",t.double.status=$('[name="'+e+'_double_status"]').prop("checked"),t.double.status?t.double.hours=$('[name="'+e+'_double_hours"]').val():t.double.hours=""),t}$(".jsAddOvertimeRuleBtn").click(function(e){var r,a,s;e.preventDefault(),e="New Overtime Rule",r="overtime_rules",a=0,s=function(){ml(!1,o);$("#jsPageOvertimeRuleForm").validate({rules:{},submitHandler:function(e){formArrayToObj($(e).serializeArray()).append("page","overtime_rules"),n("weekly");e=n("daily");console.log(e)}})},Modal({Id:t,Title:e,Body:'<div id="'+i+'"></div>',Loader:o},function(){var e=r,t=a,o=s;null!==u&&u.abort(),u=$.ajax({url:baseUrl("settings/page/"+e+"/"+t),method:"GET"}).always(function(){u=null}).fail(handleErrorResponse).done(function(e){$("#"+i).html(e.view),o(e)})})}),$(document).on("click",".jsAddChangeStatus",function(){var e=$(this).data("target");$('[name="'+e+'"]').prop("disabled",!$(this).prop("checked")),$('[name="'+e+'"]').rules("remove"),$(this).prop("checked")&&$('[name="'+e+'"]').rules("add",{required:!0,number:!0})}),$(".jsAddOvertimeRuleBtn").trigger("click")});
