<?php 
    $check_1 = isset($data[0]['voided_cheque']) && !empty($data[0]['voided_cheque']) ? $data[0]['voided_cheque'] : '';
    $check_2 = isset($data[1]['voided_cheque']) && !empty($data[1]['voided_cheque']) ? $data[1]['voided_cheque'] : '';;
    $instruction = '';
    $employee_sid = '';
    $print_name = '';
    $last_update_date = '';
    $user_signature = '';
    $user_sid = isset($dd_user_sid) ? $dd_user_sid : '';
    $user_print_name = ucwords($cn['first_name'].' '.$cn['last_name']);
    $user_primary_signature = isset($users_sign_info) && isset($users_sign_info['signature_bas64_image']) ? $users_sign_info['signature_bas64_image'] : '';

    for($i = 0; $i < 1; $i++) {
        $instruction = isset($data[$i]) && isset($data[$i]['instructions']) ? $data[$i]['instructions'] : '';
        $employee_sid = isset($data[$i]) && isset($data[$i]['employee_number']) ? $data[$i]['employee_number'] : $user_sid;
        $print_name = isset($data[$i]) && isset($data[$i]['print_name']) ? $data[$i]['print_name'] : $user_print_name;
        $last_update_date = isset($data[$i]) && isset($data[$i]['consent_date']) ? date("m/d/Y", strtotime($data[$i]['consent_date'])) : date("m/d/Y");
        $user_signature = isset($data[$i]) && isset($data[$i]['user_signature']) ? $data[$i]['user_signature'] : $user_primary_signature;
    }    
?>
<style>
    .js-ddbox .row{ margin-bottom: 20px;}

    .error_text_color{
        color: red;
        font-weight: 500;
    }
</style>

<div class="js-ddbox">
    <div class="form-wrp">
        <div class="row">
            <div class="col-xs-12">
                <h2>Direct Deposit Authorization</h2>
                <hr />
            </div>
        </div>

        <div class="row" style="margin-bottom: 10px;">
            <div class="col-sm-2">
                <p><strong>Instructions </strong> <i class="fa fa-info-circle jsPop" title="Note" data-content='Employee can set a note/instruction for the employer. For instance, "I will add the voided check next week." '></i></p>
            </div>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="instructions" value="<?php echo $instruction; ?>" />
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">
                <p><strong>Employee:</strong> Fill out and return to your employer</p>
                <p><strong>Employer:</strong> Save for your files only.</p>
            </div>
        </div>
    
        <div class="row">
            <div class="col-xs-12">
                <p class="text-justify">This document must be signed by employees requesting automatic deposit of paychecks and retained on file by the employer. Employees must attach a voided check for each of their accounts to help verify their account numbers and bank routing numbers.</p>
            </div>
        </div>

        <?php 

            for($i = 0; $i < 2; $i++) {
                $account = isset($data[$i]) ? $data[$i] : [
                    'sid' => 0,
                    'account_title' => '',
                    'account_type' => '',
                    'financial_institution_name' => '',
                    'routing_transaction_number' => '',
                    'account_number' => '',
                    'account_percentage' => '',
                    'voided_cheque' => ''
                ];
        ?>
            <div class="panel panel-default">
                <div class="panel-heading"  data-toggle="collapse" aria-expanded="false" data-target="#account_detail_<?=$i+1;?>">
                    <span class="glyphicon glyphicon-plus pull-right font_plus_sign"></span>
                    <strong>Account Detail <?=$i+1;?></strong>
                </div>
                <div id="account_detail_<?=$i+1;?>" class="panel-body signature-variations collapse">
                    <div class="js-dd-row">
                        <div class="row">
                            <div class="col-sm-2">
                                <p><strong>Account Title <span class="cs-required">*</span> </strong></p>
                                <br />
                            </div>
                            <div class="col-sm-10">
                                <input type="text" class="form-control js-account-title validate_error" value="<?=$account['account_title'];?>" error_key="acc_tit_<?php echo $i; ?>"/>
                                <span id="acc_tit_<?php echo $i; ?>" class="error_text_color"></span>
                            </div>
                            <input type="hidden" id="table_row_id_<?php echo $i; ?>" value="<?php echo $account['sid'] ?>">
                        </div>
                        <div class="row">    
                            <div class="col-sm-2">
                                <p><strong>Account Type: <span class="cs-required">*</span></strong></p>
                            </div>
                            <div class="col-sm-2">
                                <label class="control control--radio">
                                    Checking
                                    <input type="radio" class="js-account-type validate_error" name="actype<?=$i+1;?>" style="width: 20px;" value="checking" <?php echo $account['account_type'] == 'checking' ? 'checked="true"' : '';?> error_key="acc_typ_<?php echo $i; ?>" />
                                    <div class="control__indicator"></div>
                                </label>
                            </div>
                            <div class="col-sm-2">
                                <label class="control control--radio">
                                    Saving
                                    <input type="radio" class="js-account-type validate_error" name="actype<?=$i+1;?>" style="width: 20px;" value="savings" <?php echo $account['account_type'] == 'savings' ? 'checked="true"' : '';?> error_key="acc_typ_<?php echo $i; ?>" />
                                    <div class="control__indicator"></div>
                                </label>
                            </div>
                            <span id="acc_typ_<?php echo $i; ?>" class="error_text_color"></span>
                        </div>

                        <div class="row">
                            <div class="col-sm-4">
                                <p><strong>Financial Institution (Bank) Name <span class="cs-required">*</span></strong></p>
                            </div>
                            <div class="col-sm-8">
                                <input type="text" class="form-control js-financial-institution-name validate_error" value="<?=$account['financial_institution_name'];?>" error_key="acc_fin_<?php echo $i; ?>" />
                                <span id="acc_fin_<?php echo $i; ?>" class="error_text_color"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-4">
                                <p><strong>Bank routing number (ABA number): <span class="cs-required">*</span></strong></p>
                            </div>
                            <div class="col-sm-8">
                                <input type="text" class="form-control js-account-routing-number validate_error" value="<?=$account['routing_transaction_number'];?>" error_key="acc_brn_<?php echo $i; ?>" />
                                <span id="acc_brn_<?php echo $i; ?>" class="error_text_color"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-2">
                                <p><strong>Account number: <span class="cs-required">*</span></strong></p>
                            </div>
                            <div class="col-sm-10">
                                <input type="text"  class="form-control js-account-number validate_error"  value="<?=$account['account_number'];?>" error_key="acc_no_<?php echo $i; ?>" />
                                <span id="acc_no_<?php echo $i; ?>" class="error_text_color"></span>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-sm-5">
                                <p><strong>Percentage or dollar amount to be deposited to this account: <span class="cs-required">*</span></strong></p>
                            </div>
                            <div class="col-sm-7">
                                <input type="text"  class="form-control js-account-percentage validate_error" value="<?=$account['account_percentage'];?>" error_key="acc_per_<?php echo $i; ?>" />
                                <span id="acc_per_<?php echo $i; ?>" class="error_text_color"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12">
                                <p><strong>Upload Voided Check:</strong></p>
                            </div>
                            <div class="col-sm-12 ">
                                    <input class="js-image validate_error hidden" id="jsVoidedCheck<?=$i+1;?>" data-id="<?=$i+1;?>"  type="file" />
                                <!-- <div class="cs-uploader js-uploader"data-id="<?=$i+1;?>">
                                    <div class="cs-uploader-text">
                                        <p class="text-center">Click Here / Drop File </p>
                                        <p class="js-filename" data-id="<?=$i+1;?>"></p>
                                    </div>
                                </div> -->
                                <!-- <input type="file" class="js-image" data-id="<?=$i+1;?>"/> -->
                                <!-- <img width="100%" src="<?php //echo $account['voided_cheque'];?>"/> -->
                                <div class="form-group hidden">
                                    <div class="upload-file form-control">
                                        <span class="selected-file" id="name_ddi_file">Upload Check</span>
                                        <input class="js-image validate_error" data-id="<?=$i+1;?>" accept="image/*" type="file" error_key="acc_pic_<?php echo $i; ?>">
                                        <a href="javascript:;">Choose File</a>
                                    </div>
                                </div> 
                                <span id="acc_pic_<?php echo $i; ?>" class="error_text_color"></span>   
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
            </div>        
            <br />
        <?php } ?>

        <div class="clearfix"></div>
        <hr />

        <!--  -->
        <div class="row">
            <div class="col-sm-12">
                <p><strong>Authorization</strong> (enter your company name in the blank space below)</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <p>This authorizes</p>
            </div>
            <div class="col-sm-8">
                <input disabled="true" type="text" class="form-control" value="<?=isset($company_name) ? $company_name : '';?>" />
            </div>
            <div class="col-sm-2">
                <p>(the “Company”)</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <p class="text-justify">to send credit entries (and appropriate debit and adjustment entries), electronically or by any other commercially accepted method, to my (our) account(s) indicated below and to other accounts I (we) identify in the future (the “Account”). This authorizes the financial institution holding the Account to post all such entries. I agree that the ACH transactions authorized herein shall comply with all applicable U.S. Law. This authorization will be in effect until the Company receives a written termination notice from myself and has a reasonable opportunity to act on it.</p>
            </div>
        </div>
    
        <hr />
        
        <div class="row">
            <div class="col-sm-6">
                <p><strong>Authorized signature: <span class="cs-required">*</span></strong></p>
                <p>
                    <?php if(empty($user_signature)) { ?>
                        <?php $this->load->view('static-pages/e_signature_button'); ?>
                    <?php } else { ?>
                        <img style="max-height: <?=SIGNATURE_MAX_HEIGHT;?>" src="<?php echo $user_signature; ?>"  id="draw_upload_img" />
                        <a href="javascript:;" class="btn btn-info replace_signature">Replace Signature</a>
                    <?php } ?>
                </p>
            </div>
            <div class="col-sm-6">
                <p><strong>Employee Number #: </strong></p>
                <p><input type="text" class="form-control" id="employee_number"  value="<?php echo $employee_number; ?>"  /></p>
            </div>
        </div>
    
        <div class="row">
            <div class="col-sm-6">
                <p><strong>Print name: <span class="cs-required">*</span></strong></p>
                <p><input type="text" class="form-control" id="print_name" value="<?php echo $print_name; ?>" /></p>
            </div>
            <div class="col-sm-6">
                <p><strong>Date: <span class="cs-required">*</span></strong></p>
                <p><input type="text" id="consent_date" class="form-control js-dd-date" value="<?php echo $last_update_date; ?>" readonly/></p>
            </div>
        </div>    
        <!--  -->
        <div class="btn-wrp full-width mrg-top-20 text-center">
            <a href="jaavscript:void(0)" class="btn btn-info btn-success pull-right js-dd-save green_panel_consent_btn">I CONSENT AND ACCEPT</a>
        </div>
        <input type="hidden" id="users_type" name="users_type" value="<?php echo $dd_user_type; ?>" />
        <input type="hidden" id="users_sid" name="users_sid" value="<?php echo $dd_user_sid; ?>" />
        <input type="hidden" id="company_sid" name="company_sid" value="<?php echo $company_id; ?>" />
        <input type="hidden" id="user_previous_signature" value="<?php echo $user_signature; ?>" />
        <input type="hidden" id="send_email_notification" value="<?php echo $send_email_notification; ?>" />
    </div>
</div>

<div id="my_loader" class="text-center my_loader" style="display: none;">
    <div id="file_loader" class="file_loader" style="display:block; height:1353px;"></div>
    <div class="loader-icon-box">
        <i class="fa fa-refresh fa-spin my_spinner" style="visibility: visible;"></i>
        <div class="loader-text" style="display:block; margin-top: 35px;">Please wait, while we are processing your request.
        </div>
    </div>
</div>

<?php $this->load->view('static-pages/e_signature_popup'); ?>

<style>
    .cs-required{
        color: #cc1100;
        font-weight: bolder;
        font-size: 20px;
    }
    
    .cs-uploader{
        position: relative;
        border: 2px dashed #ccc;
        min-height: 200px;
        cursor: pointer;
    }
    .cs-uploader .cs-uploader-text{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1;
        text-align: center;
    }
    .cs-uploader .cs-uploader-text p{
        font-weight: bolder;
        font-size: 20px;
    }
    .cs-uploader .cs-uploader-text p:nth-child(2){
        font-size: 14px;
        color: #cc1100;
    }
    .cs-uploader img{
        position: absolute;
        left: 0;
        top: 0;
        opacity: .7;
        height: 200px;
        font-weight: bolder;
    }
    .js-dd-image img{
        display: block;
        margin: auto;
        max-width: 100%;
    }
    .validation_error{
        color: red;
    }
</style>

<!--  -->
<link rel="stylesheet" href="<?=base_url('assets/mFileUploader/index.css');?>">
<script src="<?=base_url('assets/mFileUploader/index.js');?>"></script>

<script>

$(function(){

    //
    var filo = {};
    //
    var form_data = '';

    $('.js-dd-date').datepicker({
        minDate: 0,
        maxDate: 0
    });

    //
    $('.js-uploader').on('click', function(e){
        //
        e.preventDefault();
        $(this).parent().find('.js-image').trigger('click');
    });

    $('.jsPop').popover({
        html: true,
        placement: "top"
    });


    // //
    // $('.js-image').on('change', function (e) {
    //     e.stopPropagation();
    //     e.preventDefault();
    //     filo = e.target.files[0];
    //     let id = $(this).data('id') ;
    //     // Set filename
    //     $('.js-account-voided-cheque[data-id="'+( $(this).data('id') )+'"]').val('');
    //     $('.js-filename[data-id="'+( $(this).data('id') )+'"]').text(filo['name']).show();
    //     // Load uploaded image into box
    //     let fr = new FileReader();
    //     fr.readAsDataURL(e.target.files[0]);
    //     fr.onload = function(e) { 
    //         $('.js-dd-image[data-id="'+( id )+'"]').find('img').prop('src', this.result);
    //         $('.js-dd-image[data-id="'+( id )+'"]').find('img').show();
    //     };
    // });

    
    //
    $('.js-dd-save').click(function(e){
        e.preventDefault();

        // Validate Data
        var employee_number = $('#employee_number').val();
        var print_name = $('#print_name').val();
        var consent_date = $('#consent_date').val();
        var instructions = $('#instructions').val();
        var signature_flag = 0;

        <?php if(empty($user_signature)) { ?>
            var drawn_signature = $('#drawn_signature').val();
            if (drawn_signature == '' || drawn_signature == null) {
                signature_flag = 1;
            } else {
                $('#user_previous_signature').val(drawn_signature);
            }
        <?php } ?>

        if (print_name != '' && consent_date != '' &&  signature_flag != 1) {
            getData();
        }  else {
            if (signature_flag == 1) {
                alertify.alert('Please Provide E-Signature').set({title:"WARNING !"});
            } else if (print_name == '') {
                alertify.alert('Please Provide print Name').set({title:"WARNING !"});
            } else if (consent_date == '') {
                alertify.alert('Please Provide Date').set({title:"WARNING !"});
            }
            
        }
        //
    });

    //
    function getData(){
        //
        var megaOBJ = [];
        var record_error = 0;

        var obj_length = '<?php echo $i; ?>';
        //
        $('.js-dd-row').map(function(el, i) {
            console.log(`#jsVoidedCheck${el+1}`)
            var account_title = $(this).find('.js-account-title').val();
            var account_type = $(this).find('.js-account-type:checked').val();
            var financial_institution_name = $(this).find('.js-financial-institution-name').val();
            var account_routing_no = $(this).find('.js-account-routing-number').val();
            var account_number = $(this).find('.js-account-number').val();
            var account_percentage = $(this).find('.js-account-percentage').val();
            var account_cheque = $(`#jsVoidedCheck${el+1}`).mFileUploader('get');
            var old_account_cheque = $(this).find('.js-account-voided-cheque').val();
            //

            if (account_title == '' && account_type == undefined && account_routing_no == '' && account_number == '' && account_percentage == ''  &&financial_institution_name == '') {
                if (el == 0) {
                    $('#acc_tit_0').text('Please Provide Title');
                    $('#acc_typ_0').text('Please Select Type');
                    $('#acc_fin_0').text('Please Provide Financial Institution Name');
                    $('#acc_brn_0').text('Please Provide ABA number');
                    $('#acc_no_0').text('Please Provide Account Number');
                    $('#acc_per_0').text('Please Provide Percentage');
                    // $('#acc_pic_0').text('Please Provide Voided Check Image');
                    alertify.alert('Please Provide Account 1 Detail').set({title:"WARNING !"});
                    record_error = 1
                } 
            } else if (account_title != '' || account_type != undefined || account_routing_no != '' || account_number != '' || account_percentage != '' || financial_institution_name == '') {
               
                var tit_flag = 0;
                var typ_flag = 0;
                var ac_brn_flag = 0;
                var ac_no_flag = 0;
                var pre_flag = 0;
                var pic_flag = 0;
                var fin_flag = 0;

                if (account_title == '') {
                    tit_flag = 1;
                    $('#acc_tit_'+el).text('Please Provide Title');
                } else {
                    $('#acc_tit_'+el).text('');
                }

                if (account_type == undefined) {
                    typ_flag = 1;
                    $('#acc_typ_'+el).text('Please Select Type');
                } else {
                    $('#acc_typ_'+el).text('');
                }

                if (financial_institution_name == '') {
                    fin_flag = 1;
                    $('#acc_fin_'+el).text('Please Provide Financial Institution Name');
                } else {
                    $('#acc_fin_'+el).text('');
                }

                if (account_routing_no == '') {
                    ac_brn_flag = 1;
                    $('#acc_brn_'+el).text('Please Provide ABA number');
                } else {
                    $('#acc_brn_'+el).text('');
                }

                if (account_number == '') {
                    ac_no_flag = 1;
                    $('#acc_no_'+el).text('Please Provide Account Number');
                } else {
                    $('#acc_no_'+el).text('');
                }

                if (account_percentage == '') {
                    pre_flag = 1;
                    $('#acc_per_'+el).text('Please Provide Percentage');
                } else {
                    $('#acc_per_'+el).text('');
                }

                // if (account_cheque == undefined && old_account_cheque == '') {
                //     pic_flag = 1;
                //     $('#acc_pic_'+el).text('Please Provide Voided Check Image');
                // } else {
                //     $('#acc_pic_'+el).text('');
                // }

                if (tit_flag == 0 && typ_flag == 0 && ac_brn_flag == 0 && ac_no_flag == 0 && pre_flag == 0 && pic_flag == 0 && fin_flag == 0) {
                    let obj = {}; 

                    obj.accountTitle = account_title;
                    obj.accountType = account_type;
                    obj.financial_institution_name = financial_institution_name;
                    obj.accountRoutingNumber = account_routing_no;
                    obj.accountNumber = account_number;
                    obj.accountPercentage = account_percentage;
                    if (account_type != undefined) {
                        obj.accountVoidedCheque = account_cheque;
                    }

                    megaOBJ.push(obj);


                } else {
                    var account_no = el + 1;
                    record_error = 1
                    alertify.alert('Please Provide Data for Account '+account_no+' Detail').set({title:"WARNING !"});
                }
                
            }

            if(account_cheque !== undefined && account_cheque.hasError !== undefined && account_cheque.hasError === true ){
                alertify.alert(
                    'WARNING!',
                    `Invalid uploaded file for account ${el+1}`,
                    () => {}
                );
                record_error = 1;
            }

            if (obj_length == (el+1) && record_error == 0) {
                form_data = megaOBJ;
                submit_form_data();
            }
        });
    }

    //
    function getExtension(n){
        let t = n.split('.');
        return t[t.length - 1];
    }

    $('.validate_error').on('click', function(){
        var error_key = $(this).attr('error_key');
        $('#'+error_key).text('');
    })

    function submit_form_data () {

        alertify.confirm(
            'Are you Sure?',
            'Are you sure you want to consent and save information?',
            function () {
                $('#my_loader').show();
                $('#js-dd-save').addClass('disabled-btn');
                $('#js-dd-save').prop('disabled', true);
                

                var company_sid = $('#company_sid').val();
                var user_sid = $('#users_sid').val();
                var user_type = $('#users_type').val();
                var employee_number = $('#employee_number').val();
                var print_name = $('#print_name').val();
                var consent_date = $('#consent_date').val();
                var instructions = $('#instructions').val();
                var drawn_signature = $('#user_previous_signature').val();
                var send_email_notification = $('#send_email_notification').val();

                //
                let an = $('#send_email_notification').val();

                $.each(form_data, function (i,v) {
                    // This will stop sending multi emails
                    // for a single DDI form
                    if(i == 0 && form_data.length == 2 && an == 'yes') send_email_notification = 'no';
                    if(i == 1 && form_data.length == 2 && an == 'yes') send_email_notification = 'yes';

                    var record_sid = $('#table_row_id_'+i).val();

                    var new_form_data = new FormData();
                    new_form_data.append('record_sid', record_sid);
                    new_form_data.append('company_sid', company_sid);
                    new_form_data.append('user_sid', user_sid);
                    new_form_data.append('user_type', user_type);
                    new_form_data.append('instructions', instructions)
                    new_form_data.append('account_title', v.accountTitle);
                    new_form_data.append('account_type', v.accountType);
                    new_form_data.append('financial_institution_name', v.financial_institution_name);
                    new_form_data.append('routing_transaction_number', v.accountRoutingNumber);
                    new_form_data.append('account_number', v.accountNumber);
                    new_form_data.append('account_percentage', v.accountPercentage);

                    if (v.accountVoidedCheque != undefined) {
                        new_form_data.append('upload_img', v.accountVoidedCheque);
                    }

                    new_form_data.append('employee_number', employee_number);
                    new_form_data.append('print_name', print_name);
                    new_form_data.append('consent_date', consent_date);
                    new_form_data.append('drawn_signature', drawn_signature);
                    new_form_data.append('send_email_notification', send_email_notification);

                    $.ajax({
                        url: '<?= base_url('direct_deposit/ajax_handler') ?>',
                        cache: false,
                        contentType: false,
                        processData: false,
                        type: 'post',
                        data: new_form_data,
                        success: function (data) {
                            if (form_data.length == (i+1)) {
                                $('#my_loader').hide();
                                $('#js-dd-save').removeClass('disabled-btn');
                                $('#js-dd-save').prop('disabled', false);
                                
                                alertify.alert('SUCCESS!', 'New information has been saved', function(){
                                    window.location.reload();
                                });
                            }
                        },
                        error: function () {
                        }
                    });
                });
            },
            function () {
                // alertify.alert('WARNING!', 'Canceled',function () {

                // });
            }).set('labels', {ok: 'I Consent and Accept!', cancel: 'Cancel'}); 

        
    }

    var currentSignature = '';
    getCurrentSignature();

    $(document).on('click', '.replace_signature', function() {
        //
        $('#draw_upload_img').attr('src', currentSignature);
        $('#user_previous_signature').val(currentSignature);
        $('.replace_signature').hide();
    });

    function getCurrentSignature(){
        //
        var form_data = new FormData();
        form_data.append('company_sid', <?php echo $company_id; ?>);
        form_data.append('user_sid', <?php echo $dd_user_sid; ?>);
        form_data.append('user_type', '<?php echo $dd_user_type; ?>');
        //
        $.ajax({
            url: '<?= base_url('direct_deposit/get_e_signature') ?>',
            cache: false,
            contentType: false,
            processData: false,
            type: 'post',
            data: form_data,
            success: function (data) {
                var obj = jQuery.parseJSON(data);
                var signature_bas64_image = obj.signature_bas64_image;
                currentSignature = signature_bas64_image;
                //
                if(signature_bas64_image == "<?=$user_signature;?>"){
                    $('.replace_signature').remove();
                } else{
                    $('.replace_signature').add();
                }
               
            },
            error: function () {
            }
        });
    }


    // 
    $('#jsVoidedCheck1').mFileUploader({
        fileLimit: '10MB', // Default is '2MB', Use -1 for no limit (Optional)
        allowedTypes: ['jpg','jpeg','png','gif','pdf','doc','docx','rtf','ppt','pptx'],
        text: 'Click / Drag to upload', // (Optional)
        onSuccess: (file, event) => {}, // file will the uploaded file object and event will be the actual event  (Optional)
        onError: (errorCode, event) => {}, // errorCode will either 'size' or 'type' and event will be the actual event  (Optional)
        placeholderImage: '<?php echo $check_1; ?>' // Default is empty ('') but can be set any image  (Optional)
    })
   
    // 
    $('#jsVoidedCheck2').mFileUploader({
        fileLimit: '10MB', // Default is '2MB', Use -1 for no limit (Optional)
        allowedTypes: ['jpg','jpeg','png','gif','pdf','doc','docx','rtf','ppt','pptx'],
        text: 'Click / Drag to upload', // (Optional)
        onSuccess: (file, event) => {}, // file will the uploaded file object and event will be the actual event  (Optional)
        onError: (errorCode, event) => {}, // errorCode will either 'size' or 'type' and event will be the actual event  (Optional)
        placeholderImage: '<?php echo $check_2; ?>' // Default is empty ('') but can be set any image  (Optional)
    })

})
</script>

