$((function(){let graphData={};function getEmployeeGraphBalance(){$.post(handlerURL,{action:"get_employee_balances",companyId:companyId,employerId:employerId,employeeId:employeeId,public:0},resp=>{loadTimeLineGraph(resp.Data.Timeoffs),loadHourGraph(resp.Data.Balance.Remaining.H.hours,resp.Data.Balance.Consumed.H.hours,resp.Data.Balance.Remaining.text,resp.Data.Balance.Consumed.text),ml(!1,"graph")})}function loadTimeLineGraph(ob){new Chart(document.getElementById("jsTimeoffLineGraph"),{type:"bar",data:{datasets:[{label:`Time-offs for ${moment().format("YYYY")}`,barPercentage:1,barThickness:6,minBarThickness:80,minBarLength:0,data:[ob[1][0],ob[2][0],ob[3][0],ob[4][0],ob[5][0],ob[6][0],ob[7][0],ob[8][0],ob[9][0],ob[10][0],ob[11][0],ob[12][0]],backgroundColor:["#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a"],borderColor:["#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a","#fd7a2a"],borderWidth:1}],labels:["January","February","March","April","May","June","July","August","September","October","November","December"]},options:{tooltips:{callbacks:{label:function(tooltipItem,data){let _hours=0==ob[tooltipItem.index+1][1]?0:ob[tooltipItem.index+1][1].H.hours,_timeoffs=ob[tooltipItem.index+1][0],returnText="";return returnText+=`${_timeoffs} time-off${_timeoffs>1||0==_timeoffs?"s":""} taken for ${moment().format("YYYY")} of ${_hours} hour${_hours>1||0==_hours?"s":""}`,returnText}}},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{barPercentage:1,stacked:!0}],yAxes:[{ticks:{display:!1},barPercentage:3,stacked:!0}]}}})}function loadHourGraph(p,c,pt,ct){new Chart(document.getElementById("jsTimeoffPieGraph"),{type:"doughnut",data:{datasets:[{label:"# of hours",data:[p,c],backgroundColor:["#1032c3","#fd7a2a","rgba(255, 206, 86, 1)"],borderColor:["#1032c3","#fd7a2a","rgba(255, 206, 86, 1)"],borderWidth:1}],labels:[`Remaining Hours ${pt}`,`Scheduled Hours ${ct}`]},options:{tooltips:{callbacks:{label:function(tooltipItem,data){return 0==tooltipItem.index?`Remaining Time: ${pt}`:`Scheduled Time: ${ct}`}}},responsive:!0,maintainAspectRatio:!1,showAllTooltips:!0}})}getEmployeeGraphBalance(),$(".jsTeamShiftTab").change((function(){let isMine;1==("on"==$(".jsTeamShiftTab:checked").val()?1:0)?(void 0===graphData.Balance&&getEmployeeGraphBalance(),$(".jsGraphBox").show()):$(".jsGraphBox").hide()}))}));