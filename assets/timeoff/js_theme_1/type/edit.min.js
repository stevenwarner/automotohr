$((function(){let typeOBJ={type:0,policies:0,deactivate:0},callOBJ={Type:{Main:{action:"get_single_type",companyId:companyId,employerId:employerId,employeeId:employeeId,public:0}}},typeId=0;function editType(type){ml(!0,"type");let post=Object.assign({},type,{action:"update_type",companyId:companyId,employeeId:employeeId,employerId:employerId,public:0,typeId:typeId});$.post(handlerURL,post,resp=>{ml(!1,"type"),!0!==resp.Redirect?!1!==resp.Status?alertify.alert("SUCCESS!",resp.Response,()=>{loadViewPage()}):alertify.alert("WARNING!",resp.Response,()=>{}):alertify.alert("WARNING!","Your session expired. Please, re-login to continue.",()=>{window.location.reload()})})}function startEditprocess(id){typeId=id,$.post(handlerURL,Object.assign(callOBJ.Type.Main,{typeId:typeId}),resp=>{if(!0!==resp.Redirect){if(!1===resp.Status)return ml(!1,"type"),void alertify.alert("WARNING!",resp.Response,()=>{});$("#js-type-edit").val(resp.Data.type),$("#js-policies-edit").select2(),$("#js-policies-edit").select2("val",resp.Data.policies.length==window.timeoff.policies.length?"all":resp.Data.policies),$("#js-archived-edit").prop("checked",1==resp.Data.is_archived),ml(!1,"type")}else alertify.alert("WARNING!","Your session expired. Please, re-login to continue.",()=>{window.location.reload()})})}window.timeoff.startEditprocess=startEditprocess,$("#js-save-edit-btn").click((function(e){if(e.preventDefault(),typeOBJ.type=getField("#js-type-edit"),typeOBJ.policies=getField("#js-policies-edit"),typeOBJ.deactivate=!0===$("#js-archived-edit").prop("checked")?1:0,0==typeOBJ.type)return alertify.alert("WARNING!","Type name is required.",()=>{}),!1;editType(typeOBJ)}))}));