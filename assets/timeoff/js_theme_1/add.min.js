$((function(){let e=employeeId,t=employeeName,a=0,o="",i={policyId:0,startDate:0,endDate:0,dateRows:"",status:0,reason:0,comment:0,sendEmailNotification:0,fromAdmin:1};function n(){$(".jsAsOfTodayPolicies").html(""),$.post(handlerURL,{action:"get_employee_policies_by_date",companyId:companyId,employerId:employerId,employeeId:e,fromDate:$("#jsStartDate").val()},(e=>{window.timeoff.cPolicies=e.Data,$(".jsCreateTimeOffBTN").prop("disabled",!1),$("#jsEndDate").prop("disabled",!1),$("#jsAddPolicy").prop("disabled",!1);let t=[];if(e.Data.length>0){let a="";e.Data.map((e=>{""==e.Reason&&(t.push(e),a+=`\n                        <div>\n                        <strong>${e.Title} (<strong class="text-${1==e.categoryType?"success":"danger"}">${1==e.categoryType?"Paid":"Unpaid"}</strong>)</strong> \n                        <br />\n                        <span>(${e.Category})</span>  \n                        <br />\n                        <span>${e.IsUnlimited?"Unlimited":e.RemainingTime.text} remaining</span>\n                        <br />\n                        <span>${e.IsUnlimited?"Unlimited":e.ConsumedTime.text} scheduled</span>\n                        <br />\n                        <span>Employment status: ${ucwords(e.EmployementStatus)}</span>  \n                      <br>\n                         <span>Policy Cycle: ${moment(e.lastAnniversaryDate,"YYYY/MM/DD").format(timeoffDateFormat)} -\n                        ${moment(e.upcomingAnniversaryDate,"YYYY/MM/DD").format(timeoffDateFormat)}\n                        </span> \n                        </div>\n                        <hr />\n                       \n                        `)})),window.timeoff.cPolicies=t,$(".jsAsOfTodayPolicies").html(a)}0==window.timeoff.cPolicies.length&&($(".jsAsOfTodayPolicies").html('<div class="alert alert-success">No policies found.</div>'),$(".jsCreateTimeOffBTN").prop("disabled",!0),$("#jsEndDate").prop("disabled",!0),$("#jsAddPolicy").prop("disabled",!0))}))}function d(e){var t=void 0===policyOffDays?timeOffDays:policyOffDays,a=moment(e).format("MM-DD-YYYY");let o=moment(e).format("dddd").toString().toLowerCase(),i=1;return i=-1!==$.inArray(o,t)?{work_on_holiday:0,holiday_title:"Weekly off"}:inObject(a,holidayDates),-1==i?[!0,""]:1==i.work_on_holiday?[!0,"set_disable_date_color",i.holiday_title]:[!1,"",i.holiday_title]}async function s(t,i){policyOffDays=void 0,o=t;const s=await new Promise((t=>{$.post(handlerURL,{action:"get_employee_policies_with_approvers",companyId:companyId,employerId:employerId,employeeId:e},(e=>{t(e)}))})),r=s.Data.Policies;if($(`#${i}`).find(".csModalBody .alert").remove(),0===r.length)return $(".jsAddTimeOff").remove(),$(`#${i}`).find(".csModalBody").append('<div class="alert alert-success text-center">We are unable to find policies against this employee.</div>'),void ml(!1,t);$("#addAdminModal").find(".csModalHeaderTitle span:nth-child(1)").text("Create a time-off"),$("#addModal").find(".csModalHeaderTitle span:nth-child(1)").text($("#addModal").find(".csModalHeaderTitle span:nth-child(1)").text().replace("Balance History ","Create Time-off")),$(".jsCreateTimeOffBalanceBack").hide(0),$(".jsCreateTimeOffBalanceBackAdmin").hide(0),$(".jsCreateTimeOffBalance").show(0),$(".jsCreateTimeOffBalanceAdmin").show(0),$(".jsCreateTimeOffBTN").show(0);let l=r.length,m=0,f={};if(window.timeoff.cPolicies=r,r.map((e=>{""==e.Reason?(void 0===f[e.Category]&&(f[e.Category]=[]),f[e.Category].push(e)):m++})),l==m)return $(".jsAddTimeOff").remove(),$(`#${i}`).find(".csModalBody").append('<div class="alert alert-success text-center">We are unable to find policies against this employee.</div>'),void ml(!1,t);let c='<option value="0" selected="true">[Select a policy]</option>';$.each(f,((e,t)=>{c+=`<optgroup label="${e}">`,t.map((e=>{c+=`<option value="${e.PolicyId}">${e.Title}  (<strong class="text-${1==e.categoryType?"success":"danger"}">${1==e.categoryType?"Paid":"Unpaid"}</strong>) </option>`})),c+="</optgroup>"}));const p=await(u="add",new Promise((e=>{$.post(handlerURL,{action:"get_modal",companyId:companyId,employerId:employerId,employeeId:employeeId,type:u},(t=>{e(t)}))})));var u;$(".jsAddTimeOff").remove(),$(`#${i}`).find(".csModalBody").append(p),$("#jsAddPolicy").html(c),$("#jsAddPolicy").select2(),0!=a&&$("#jsAddPolicy").select2("val",a),$("#jsStartDate").datepicker({format:"mm-dd-yyyy",changeYear:!0,changeMonth:!0,beforeShowDay:d,onSelect:e=>{$("#jsEndDate").datepicker("option","minDate",e),$("#asoffdate").text("AS Of  "+moment($("#jsStartDate").val(),"MM/DD/YYYY").format(timeoffDateFormat)),n(),remakeRangeRows("#jsStartDate","#jsEndDate",".jsDurationBox")}}),$("#jsEndDate").datepicker({format:"mm-dd-yyyy",changeYear:!0,changeMonth:!0,beforeShowDay:d,onSelect:e=>{remakeRangeRows("#jsStartDate","#jsEndDate",".jsDurationBox")}}),$("#js-vacation-return-date").datepicker({format:"mm-dd-yyyy",changeYear:!0,changeMonth:!0,minDate:1,beforeShowDay:d}),$("#js-bereavement-return-date").datepicker({format:"mm-dd-yyyy",changeYear:!0,changeMonth:!0,minDate:1,beforeShowDay:d}),$("#js-compensatory-return-date").datepicker({format:"mm-dd-yyyy",changeYear:!0,changeMonth:!0,minDate:1,beforeShowDay:d}),$("#js-compensatory-start-time").datepicker({format:"g:i A",formatTime:"g:i A",step:15}),$("#js-compensatory-end-time").datepicker({format:"g:i A",formatTime:"g:i A",step:15}),null!==window.location.pathname.match(/(lms)|(employee_management_system)|(dashboard)/gi)?($("#jsComment").parent().hide(),$(".jsEmailBoxAdd").hide(),$("#jsStatus").html('<option value="pending">Pending</option>').parent().hide(0),$("#jsStartDate").datepicker("option","minDate",-1),$("#jsEndDate").datepicker("option","minDate",-1)):$("#jsStatus").select2({minimumResultsForSearch:5}),CKEDITOR.config.toolbar=[["Bold","Italic","Underline"]],$("#jsReason").length>0&&CKEDITOR.replace("jsReason"),$("#jsComment").length>0&&CKEDITOR.replace("jsComment"),n(),function(e){if(0===e.length)return void $("#jsApproversListingAdd").html("<p>No approvers found.</p>");let t="",a="";e.map((e=>{let o=`${remakeEmployeeName(e)}`;t+=`\n                <div class="csApproverBox" title="Approver" data-content="${o}">\n                    <img src="${null==e.profile_picture||""==e.profile_picture?awsURL+"test_file_01.png":awsURL+e.profile_picture}" />\n                     </div>\n            `,a+=`\n                <div class="csApproverBox">\n                    <div class="employee-info">            \n                        <figure>                \n                            <img src="${null==e.profile_picture||""==e.profile_picture?awsURL+"test_file_01.png":awsURL+e.profile_picture}" />          \n                        </figure>  oo          \n                        <div class="text">                \n                            <h4>${o}</h4>                \n                            <p><a href="http://automotohr.local/employee_profile/${e.userId}" target="_blank">Id: ${getEmployeeId(e.userId,e.employee_number)}</a></p>            \n                        </div>        \n                    </div>\n                </div>\n            `})),$("#jsApproversListingMobileAdd").html(a),$("#jsApproversListingAdd").html(t),$(".csApproverBox").popover({html:!0,trigger:"hover",placement:"left"})}(s.Data.Approvers),setUpcomingTimeOffs(e),$(".jsCreateTimeOffBTN").removeClass("dn"),ml(!1,t)}$(document).on("click",".jsCreateTimeOffBTN",(function(t){t.preventDefault();let a=function(e){if(0===window.timeoff.cPolicies.length)return[];let t=[];return window.timeoff.cPolicies.map((a=>{a.PolicyId==e&&(t=a)})),t}(getField("#jsAddPolicy"));if(0==a.length)return void alertify.alert("WARNING!","You don't have any policies. Please select a different date.",(()=>{}));if(i.policyId=getField("#jsAddPolicy"),i.startDate=getField("#jsStartDate"),i.endDate=getField("#jsEndDate"),i.status=getField("#jsStatus"),i.reason=CKEDITOR.instances.jsReason.getData(),i.comment=CKEDITOR.instances.jsComment.getData(),i.sendEmailNotification=getField(".js-send-email:checked"),i.dateRows=getRequestedDays(".jsDurationBox"),0==i.policyId)return void alertify.alert("WARNING!","Please select a policy.",(()=>{}));if(0==i.startDate)return void alertify.alert("WARNING!","Please select the start date.",(()=>{}));if(0==i.endDate)return void alertify.alert("WARNING!","Please select an end date.",(()=>{}));if(null===window.location.pathname.match(/(lms)|(employee_management_system)|(dashboard)/gi)&&"pending"==i.status)return void alertify.alert("WARNING!","Please, either select approve or reject.",(()=>{}));if(i.dateRows.error)return;let n=getPolicy(i.policyId,window.timeoff.cPolicies);if(0==n.IsUnlimited){if(n.RemainingTimeWithNegative.M.minutes<=0)return void alertify.alert("WARNING!","You don't have any time left against this policy.",(()=>{}));if(i.dateRows.totalTime>n.RemainingTimeWithNegative.M.minutes)return void alertify.alert("WARNING!",`Requested time-off can not be greater than the allowed time i.e. "${n.RemainingTimeWithNegative.text}"`,(()=>{}))}i.fromAdmin=1,null!==window.location.pathname.match(/(lms)|(dashboard)/gi)&&(i.fromAdmin=0),ml(!0,o),$.post(handlerURL,Object.assign({action:"create_timeoff",companyId:companyId,employerId:employerId,employeeId:e},i),(e=>{if(!1===e.Status)return ml(!1,o),void alertify.alert("WARNING!",e.Response,(()=>{}));ml(!1,o),alertify.alert("SUCCESS!",e.Response,(()=>{$(".jsModalCancel").removeAttr("data-ask"),$(".jsModalCancel").trigger("click"),window.location.reload()}))}))})),$(document).on("click",".jsCreateRequest",(function(o){if(o.preventDefault(),timeRowsOBJ={},a=0,void 0!==$(this).prop("id")&&""!=$(this).prop("id"))return void async function(){const a=await new Promise((t=>{$.post(handlerURL,{action:"get_company_employees",companyId:companyId,employerId:employerId,employeeId:e},(e=>{t(e)}))}));if(!0===a.Redirect)return void alertify.alert("WARNING!","Your session expired. Please, re-login to continue.",(()=>{window.location.reload()}));if(0==a.Status||0==a.Data.length)return void alertify.alert("WARNING!","We are unable to find any active employees.",(()=>{}));let o='<option value="0">Please select an employee</option>';a.Data.map((e=>{o+=`<option value="${e.user_id}">${remakeEmployeeName(e)}</option>`})),Modal({Id:"addAdminModal",Title:"Create a time-off",Body:`\n                <div class="col-sm-6">\n                <label>Select an employee <span class="cs-required">*</span></label>\n                <select id="jsAddAdminModalList">${o}</select>\n                </div>\n                <div class="col-sm-12">\n                    <hr />\n                </div>\n                <div class="clearfix"></div>\n            `,Buttons:['<button class="btn btn-success jsCreateTimeOffBalanceAdmin" style="margin-right: 10px;" title="See employee balance" placement="left"><i class="fa fa-balance-scale" aria-hidden="true"></i>&nbsp;View Balance History</button>','<button class="btn btn-black jsCreateTimeOffBalanceBackAdmin dn" style="margin-right: 10px;" ><i class="fa fa-long-arrow-left" aria-hidden="true"></i>&nbsp;Back To Create</button>','<button class="btn btn-success dn jsCreateTimeOffBTN">Create</button>'],Loader:"addAdminModalLoader",Ask:!1},(async()=>{$("#jsAddAdminModalList").select2({templateSelection:o=>{if($(".jsAddTimeOff").remove(),$(".jsCreateTimeOffBTN").addClass("dn"),0==o.id)return o.text;const i=getUserById(o.id,a.Data,"user_id");e=i.user_id,t=`${i.first_name} ${i.last_name}`;var n=null==i.joined_at?i.joined_at:i.registration_date;return n=moment(n,"YYYY-MM-DD").format(timeoffDateFormat),ml(!0,"addAdminModalLoader"),s("addAdminModalLoader","addAdminModal"),$(`<span><img  style="padding: 5px; margin-left: 5px;" src="${""==i.image||null==i.image?awsURL+"test_file_01.png":awsURL+i.image}" width="60px" /> <span>${o.text}</span> (<span>${n}</span>)</span>`)}}),ml(!1,"addAdminModalLoader")}))}();let i=0,n="";void 0!==$(this).data("id")?(i=e,n=t):(i=$(this).closest("tr").data("id"),n=$(this).closest("tr").data("name")),e=i,t=n,void 0!==$(this).data("policyid")&&(a=$(this).data("policyid")),Modal({Id:"addModal",Title:`Create Time-off for ${t}`,Body:"",Buttons:['<button class="btn btn-success jsCreateTimeOffBalance" style="margin-right: 10px;" title="See employee balance" placement="left"><i class="fa fa-balance-scale" aria-hidden="true"></i>&nbsp;View Balance History</button>','<button class="btn btn-black jsCreateTimeOffBalanceBack dn" style="margin-right: 10px;" ><i class="fa fa-long-arrow-left" aria-hidden="true"></i>&nbsp;Back To Create</button>','<button class="btn btn-success jsCreateTimeOffBTN">Create</button>'],Loader:"addModalLoader",Ask:!1},(async()=>{s("addModalLoader","addModal")}))})),$(document).on("click",".jsCreateTimeOffBalance",(function(t){t.preventDefault(),null!=e?($(this).hide(0),$(".jsCreateTimeOffBalanceBack").show(0),$(".jsCreateTimeOffBTN").hide(0),$("#addModal").find('[data-page="main"]').hide(0),$("#addModal").find('[data-page="balance-view"]').show(0),$("#addModal").find(".csModalHeaderTitle span:nth-child(1)").text($("#addModal").find(".csModalHeaderTitle span:nth-child(1)").text().trim().replace("Create Time-off","Balance History ")),$.post(handlerURL,{action:"get_employee_balance_history",companyId:companyId,employerId:employerId,employeeId:e}).done((function(e){var t="";if(0===e.Data.length)t+="<tr>",t+='   <td colspan="6">',t+='       <p class="alert alert-info text-center">',t+="          No balance history found.",t+="       </p>",t+="   </td>",t+="</tr>";else{var a=0,o={},i={};void 0!==e.Data[0].timeoff_breakdown.active.hour&&(o.hour=0,i.hour=0),void 0!==e.Data[0].timeoff_breakdown.active.minutes&&(o.minutes=0,i.minutes=0),e.Data.map((function(e){var n="",d="",s="",r="";0==e.is_manual&&1==e.is_allowed?(n=moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat),d="",s="-",r=""):1==e.is_manual?(n=moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat),d=moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat),s=e.first_name+" "+e.last_name,r=remakeEmployeeName(e,!1),void 0!==e.timeoff_breakdown.active.hours&&(void 0===i.hours&&(i.hours=0),i.hours+=parseInt(e.timeoff_breakdown.active.hours)),void 0!==e.timeoff_breakdown.active.minutes&&(void 0===i.minutes&&(i.minutes=0),i.minutes+=parseInt(e.timeoff_breakdown.active.minutes))):(a++,n=moment(e.request_from_date,"YYYY-MM-DD").format(timeoffDateFormat),d=moment(e.request_to_date,"YYYY-MM-DD").format(timeoffDateFormat),s=e.approverName,r=e.approverRole,void 0!==e.timeoff_breakdown.active.hours&&(void 0===o.hours&&(o.hours=0),o.hours+=parseInt(e.timeoff_breakdown.active.hours)),void 0!==e.timeoff_breakdown.active.minutes&&(void 0===o.minutes&&(o.minutes=0),o.minutes+=parseInt(e.timeoff_breakdown.active.minutes))),t+="<tr>",t+="   <td>",t+="       <strong>",t+=s+"<br>",t+="       </strong>",t+=r,t+="   </td>",t+="   <td>",t+="       <strong>"+e.title+"</strong>",t+="       <p>"+n+(""!=d?" - "+d:"")+"</p>",t+="   </td>",t+=' <td class="'+(0==e.is_added?"text-danger":"text-success")+'"><i class="fa fa-arrow-'+(0==e.is_added?"down ":"up")+'"></i>&nbsp;'+e.timeoff_breakdown.text+"</td>",t+="   <td>",t+=""!=e.note?e.note:"-",t+="   </td>",t+="   <td>",t+=moment(e.created_at,"YYYY-MM-DD").format(timeoffDateFormatWithTime),t+="   </td>",t+="   <td>",t+='       <strong class="text-'+(1==e.is_manual?"success":"danger")+'">'+(1==e.is_manual?"Yes":"No")+"</strong>",t+="   </td>",t+="</tr>",t+="<tr>",t+='   <td colspan="6">',0==e.is_manual&&1==e.is_allowed?t+="       <p><strong>Note</strong>: A balance of <b>"+e.added_time/60+'</b> hours is available against policy <b>"'+e.title+'"</b> effective from <b>'+moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat)+"</b>":t+="       <p><strong>Note</strong>: <strong>"+s+"</strong> has "+(1==e.is_manual?1==e.is_added?"added balance":"subtracted balance":"approved time off")+' against policy "<strong>'+e.title+'</strong>" on <strong>'+moment(e.created_at,"YYYY-MM-DD").format(timeoffDateFormatWithTime)+"</strong> which will take effect "+(n==d?"on ":" from ")+" <strong>"+n+(n!=d?" to  "+d:"")+"</strong>.</p>",t+="   </td>",t+="</tr>"})),$(".jsCreateTimeOffNumber").text(a),$(".jsCreateTimeOffTimeTaken").text(getText(o)),$(".jsCreateTimeOffManualAllowedTime").text(getText(i))}$("#jsCreateTimeoffBalanceBody").html(t),ml(!1,"balance-view")}))):alertify.alert("Warning!","Please, select an employee.")})),$(document).on("click",".jsCreateTimeOffBalanceBack",(function(e){e.preventDefault(),$(this).hide(0),$(".jsCreateTimeOffBalance").show(0),$(".jsCreateTimeOffBTN").show(0),$("#addModal").find('[data-page="balance-view"]').hide(0),$("#addModal").find('[data-page="main"]').show(0),$("#addModal").find(".csModalHeaderTitle span:nth-child(1)").text($("#addModal").find(".csModalHeaderTitle span:nth-child(1)").text().trim().replace("Balance History ","Create Time-off"))})),$(document).on("click",".jsCreateTimeOffBalanceAdmin",(function(t){t.preventDefault(),null!=e?($(this).hide(0),$(".jsCreateTimeOffBalanceBackAdmin").show(0),$(".jsCreateTimeOffBTN").hide(0),$("#addAdminModal").find('[data-page="main"]').hide(0),$("#addAdminModal").find('[data-page="balance-view"]').show(0),$("#addAdminModal").find(".csModalHeaderTitle span:nth-child(1)").text($("#addAdminModal").find(".csModalHeaderTitle span:nth-child(1)").text().trim().replace("Create a time-off","Balance History")),$.post(handlerURL,{action:"get_employee_balance_history",companyId:companyId,employerId:employerId,employeeId:e}).done((function(e){var t="";if(0===e.Data.length)t+="<tr>",t+='   <td colspan="6">',t+='       <p class="alert alert-info text-center">',t+="          No balance history found.",t+="       </p>",t+="   </td>",t+="</tr>";else{var a=0,o={},i={};void 0!==e.Data[0].timeoff_breakdown.active.hour&&(o.hour=0,i.hour=0),void 0!==e.Data[0].timeoff_breakdown.active.minutes&&(o.minutes=0,i.minutes=0),e.Data.map((function(e){var n="",d="",s="",r="";0==e.is_manual&&1==e.is_allowed?(n=moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat),d="",s="-",r=""):1==e.is_manual?(n=moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat),d=moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat),s=e.first_name+" "+e.last_name,r=remakeEmployeeName(e,!1),void 0!==e.timeoff_breakdown.active.hours&&(void 0===i.hours&&(i.hours=0),i.hours+=parseInt(e.timeoff_breakdown.active.hours)),void 0!==e.timeoff_breakdown.active.minutes&&(void 0===i.minutes&&(i.minutes=0),i.minutes+=parseInt(e.timeoff_breakdown.active.minutes))):(a++,n=moment(e.request_from_date,"YYYY-MM-DD").format(timeoffDateFormat),d=moment(e.request_to_date,"YYYY-MM-DD").format(timeoffDateFormat),s=e.approverName,r=e.approverRole,void 0!==e.timeoff_breakdown.active.hours&&(void 0===o.hours&&(o.hours=0),o.hours+=parseInt(e.timeoff_breakdown.active.hours)),void 0!==e.timeoff_breakdown.active.minutes&&(void 0===o.minutes&&(o.minutes=0),o.minutes+=parseInt(e.timeoff_breakdown.active.minutes))),t+="<tr>",t+="   <td>",t+="       <strong>",t+=s+"<br>",t+="       </strong>",t+=r,t+="   </td>",t+="   <td>",t+="       <strong>"+e.title+"</strong>",t+="       <p>"+n+(""!=d?" - "+d:"")+"</p>",t+="   </td>",t+=' <td class="'+(0==e.is_added?"text-danger":"text-success")+'"><i class="fa fa-arrow-'+(0==e.is_added?"down ":"up")+'"></i>&nbsp;'+e.timeoff_breakdown.text+"</td>",t+="   <td>",t+=""!=e.note?e.note:"-",t+="   </td>",t+="   <td>",t+=moment(e.created_at,"YYYY-MM-DD").format(timeoffDateFormatWithTime),t+="   </td>",t+="   <td>",t+='       <strong class="text-'+(1==e.is_manual?"success":"danger")+'">'+(1==e.is_manual?"Yes":"No")+"</strong>",t+="   </td>",t+="</tr>",t+="<tr>",t+='   <td colspan="6">',0==e.is_manual&&1==e.is_allowed?t+="       <p><strong>Note</strong>: A balance of <b>"+e.added_time/60+'</b> hours is available against policy <b>"'+e.title+'"</b> effective from <b>'+moment(e.effective_at,"YYYY-MM-DD").format(timeoffDateFormat)+"</b>":t+="       <p><strong>Note</strong>: <strong>"+s+"</strong> has "+(1==e.is_manual?1==e.is_added?"added balance":"subtracted balance":"approved time off")+' against policy "<strong>'+e.title+'</strong>" on <strong>'+moment(e.created_at,"YYYY-MM-DD").format(timeoffDateFormatWithTime)+"</strong> which will take effect "+(n==d?"on ":" from ")+" <strong>"+n+(n!=d?" to  "+d:"")+"</strong>.</p>",t+="   </td>",t+="</tr>"})),$(".jsCreateTimeOffNumber").text(a),$(".jsCreateTimeOffTimeTaken").text(getText(o)),$(".jsCreateTimeOffManualAllowedTime").text(getText(i))}$("#jsCreateTimeoffBalanceBody").html(t),ml(!1,"balance-view")}))):alertify.alert("Warning!","Please, select an employee.")})),$(document).on("click",".jsCreateTimeOffBalanceBackAdmin",(function(e){e.preventDefault(),$(this).hide(0),$(".jsCreateTimeOffBalanceAdmin").show(0),$(".jsCreateTimeOffBTN").show(0),$("#addAdminModal").find('[data-page="balance-view"]').hide(0),$("#addAdminModal").find('[data-page="main"]').show(0),$("#addAdminModal").find(".csModalHeaderTitle span:nth-child(1)").text($("#addAdminModal").find(".csModalHeaderTitle span:nth-child(1)").text().trim().replace("Balance History","Create a time-off"))})),$(document).on("change","#jsAddPolicy",(function(){if(null!==$(this).val()){var e=getPolicy($(this).val(),window.timeoff.cPolicies);null==e.OffDays?policyOffDays=void 0:policyOffDays=e.OffDays.split(",")}else policyOffDays=void 0}))}));