function getImageURL(t){return""==t||null==t?`${baseURL}assets/images/img-applicant.jpg`:`${awsURL}${t}`}function getEmployeeId(t,e){return""==e||null==e?t:e}function ucwords(t){return(t+"").replace(/^([a-z])|\s+([a-z])/g,(function(t){return t.toUpperCase()}))}function isEmpty(t){return""==t||null==t||null==t}function remakeEmployeeName(t,e){let a="";return void 0===e&&(a+=t.first_name+" "+t.last_name),""!=t.job_title&&null!=t.job_title&&(a+=" ("+t.job_title+")"),a+=" [",void 0!==typeof t.is_executive_admin&&0!=t.is_executive_admin&&(a+="Executive "),1==t.access_level_plus&&1==t.pay_plan_flag?a+=t.access_level+" Plus / Payroll":1==t.access_level_plus?a+=t.access_level+" Plus":1==t.pay_plan_flag?a+=t.access_level+" Payroll":a+=t.access_level,a+="]",t.timezone&&(a+=" ("+t.timezone+")"),a}function getArrayFromMinutes(t,e,a){var i={};return i.timeFrame=e,i.originalMinutes=t,i["D:H:M"]={},i["D:H:M"].days=parseInt(t/(60*e)),i["D:H:M"].hours=parseInt(t%(60*e)/60),i["D:H:M"].minutes=parseInt(t%(60*e)%60),i["H:M"]={},i["H:M"].hours=parseInt(t/60),i["H:M"].minutes=parseInt(t%60),i.D={},i.D.days=(t/(60*e)).toFixed(2),i.M={},i.M.minutes=t,i.H={},i.H.hours=(t/60).toFixed(2),i.active=i[a],i.text="",void 0!==i[a].days&&(i.text+=i[a].days+" day"+(i[a].days>1?"s":"")+", "),void 0!==i[a].hours&&(i.text+=i[a].hours+" hour"+(i[a].hours>1?"s":"")+", "),void 0!==i[a].minutes&&(i.text+=i[a].minutes+" minute"+(i[a].minutes>1?"s":"")+", "),i.text=i.text.substring(0,i.text.length-2),i}function getAccrualPlans(t,e){var a=[],i=!1;return 0===$(".js-plan-row-"+t).length?a:($(".js-plan-row-"+t).map((function(s){if(!i){var n={accrualRate:$(this).find(".js-pt").val().trim(),accrualType:$(this).find(".js-py").val().trim(),accrualTypeM:$(this).find(".js-pyt").val()};(0!=n.accrualType&&""!=n.accrualType||0!=n.accrualRate&&""!=n.accrualRate||0!=n.accrualTypeM&&""!=n.accrualTypeM)&&(0!=n.accrualType&&""!=n.accrualType||(i=!0),0!=n.accrualRate&&""!=n.accrualRate||(i=!0),0!=n.accrualTypeM&&""!=n.accrualTypeM||(i=!0),i?alertify.alert("WARNING!","Accrual fields are mendatory for "+ ++s+" plan."):a.push("edit-reset"==t||void 0!==e?{plan_title:n.accrualType,accrual_rate:n.accrualRate,accrual_type_m:n.accrualTypeM}:n))}})),i||a)}function ml(t,e){e=void 0===e?".jsIPLoader":`.jsIPLoader[data-page="${e}"]`,void 0===t||!1===t?$(e).hide():$(e).show()}function getField(t){let e=$(t).val();return e&&0!=e&&null!=e?e:0}function Modal(t,e){let a=`\n    \x3c!-- Custom Modal --\x3e\n    <div class="csModal" id="${t.Id}">\n        <div class="container-fluid">\n            <div class="csModalHeader">\n                <h3 class="csModalHeaderTitle">\n                    <span>\n                    ${t.Title}\n                    </span>\n                    <span class="csModalButtonWrap">\n                    ${void 0!==t.Buttons&&0!==t.Buttons.length?t.Buttons.join(""):""}\n                        <button class="btn btn-black jsModalCancel" ${void 0===t.Ask?"":'data-ask="no"'} title="Close this window">Cancel</button>\n                    </span>\n                    <div class="clearfix"></div>\n                </h3>\n            </div>\n            <div class="csModalBody">\n                <div class="csIPLoader jsIPLoader" data-page="${t.Loader}"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n                ${t.Body}\n            </div>\n            <div class="clearfix"></div>\n        </div>\n    </div>\n    `;$(`#${t.Id}`).remove(),$("body").append(a),$(`#${t.Id}`).fadeIn(300),$("body").css("overflow-y","hidden"),$(`#${t.Id} .csModalBody`).css("top",$(`#${t.Id} .csModalHeader`).height()+50),e()}function load_pagination(t,e,a,i){var s=window.timeoff.PaginationOBJ[i];t=parseInt(t),s.page=parseInt(s.page);var n=paginate(s.count,s.Main.page,t,e),o="";o+='<div class="">',o+='<div class="col-lg-12">',o+='   <div class="row pto-pagination">',o+='       <div class="col-xs-12 col-lg-3">',o+='           <div class="pagination-left-content js-showing-target">',o+='               <div class="js-show-record"></div>',o+="           </div>",o+="       </div>",o+='       <div class="col-xs-12 col-lg-9">',o+='           <nav aria-label="Pagination">',o+='               <ul class="pagination cs-pagination js-pagination"></ul>',o+="           </nav>",o+="       </div>",o+="   </div>",o+="</div>",o+="</div>",a.html(o);var l=a.find(".js-pagination"),d=a.find(".js-showing-target");n.total_pages;if(s.count>=t){o="";o+='<li class="page-item"><a href="javascript:void(0)" data-page-type="'+i+'" class="'+(1==s.Main.page?"":"js-pagination-first")+'">First</a></li>',o+='<li class="page-item"><a href="javascript:void(0)" data-page-type="'+i+'" class="'+(1==s.Main.page?"":"js-pagination-prev")+'">&laquo;</a></li>',$.each(n.pages,(function(t,e){o+='<li class="'+(e==s.Main.page?"active page-item":"")+'"><a href="javascript:void(0)" data-page-type="'+i+'" data-page="'+e+'" class="'+(s.Main.page!=e?"js-pagination-shift":"")+'">'+e+"</a></li>"})),o+='<li class="page-item"><a href="javascript:void(0)" data-page-type="'+i+'" class="'+(s.Main.page==n.total_pages?"":"js-pagination-next")+'">&raquo;</a></li>',o+='<li class="page-item"><a href="javascript:void(0)" data-page-type="'+i+'" class="'+(s.Main.page==n.total_pages?"":"js-pagination-last")+'">Last</a></li>',l.html(o)}d.html("<p>Showing "+(n.start_index+1)+" - "+(-1!=n.end_index?n.end_index+1:1)+" of "+s.count+"</p>")}function paginate(t,e,a,i){var s,n,o=Math.ceil(t/a);if(e<1?e=1:e>o&&(e=o),o<=i)s=1,n=o;else{var l=Math.floor(i/2),d=Math.ceil(i/2)-1;e<=l?(s=1,n=i):e+d>=o?(s=o-i+1,n=o):(s=e-l,n=e+d)}var r=(e-1)*a,c=Math.min(r+a-1,t-1),u=Array.from(Array(n+1-s).keys()).map((t=>s+t));return{total_items:t,total_pages:o,start_page:s,end_page:n,start_index:r,end_index:c,pages:u}}function pagination_event(){var t=$(this).data("page-type");!0===$(this).hasClass("js-pagination-next")?(window.timeoff.PaginationOBJ[t].Main.page=window.timeoff.PaginationOBJ[t].Main.page+1,window.timeoff.PaginationOBJ[t].cb($(this))):!0===$(this).hasClass("js-pagination-prev")?(window.timeoff.PaginationOBJ[t].Main.page=window.timeoff.PaginationOBJ[t].Main.page-1,window.timeoff.PaginationOBJ[t].cb($(this))):!0===$(this).hasClass("js-pagination-first")?(window.timeoff.PaginationOBJ[t].Main.page=1,window.timeoff.PaginationOBJ[t].cb($(this))):!0===$(this).hasClass("js-pagination-last")?(window.timeoff.PaginationOBJ[t].Main.page=window.timeoff.PaginationOBJ[t].pages,window.timeoff.PaginationOBJ[t].cb($(this))):!0===$(this).hasClass("js-pagination-shift")&&(window.timeoff.PaginationOBJ[t].Main.page=parseInt($(this).data("page")),window.timeoff.PaginationOBJ[t].cb($(this)))}window.timeoff={PaginationOBJ:{}},holidayDatesArray=[],holidayDates.length>0&&holidayDates.map((t=>{holidayDatesArray.push(t.from_date)})),$(".btn-apply-filter").click((function(){$(this).parent().next(".filter-content").toggle()})),$(".csMobile span i").click((function(t){$(".csVertical").toggle()})),$(".jsCalendarView").click((function(t){t.preventDefault(),Modal({Id:"calendarModal",Title:"Calendar",Body:`<iframe src="${baseURL}calendar/my_events/iframe${null!==window.location.pathname.match(/(lms)|(employee_management_system)|(dashboard)/gi)?"/ems":""}" width="100%" height="${$(window).height()-90}"></iframe>`,Loader:"jsCalendarLoader"},(()=>{ml(!1,"jsCalendarLoader")}))})),$(document).on("click","#calendarModal .jsModalCancel",(function(){window.location.href=window.location.href})),$(document).on("keyup",".js-number",(function(){$(this).val($(this).val().replace(/[^0-9]/,""))})),$(".jsToggle").click((function(t){t.preventDefault(),$(this).find("i").hasClass("fa-minus-circle")?($(this).find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),$(`div[data-target="${$(this).data("target")}"]`).hide()):($(this).find("i").removeClass("fa-plus-circle").addClass("fa-minus-circle"),$(`div[data-target="${$(this).data("target")}"]`).show())})),$(document).on("click",".jsModalCancel",(t=>{t.preventDefault(),null!=$(t.target).data("ask")?alertify.confirm("Any unsaved changes will be lost.",(()=>{$(t.target).closest(".csModal").fadeOut(300),$("body").css("overflow-y","auto"),$("#ui-datepicker-div").remove()})).set("labels",{ok:"LEAVE",cancel:"NO, i WILL STAY"}).set("title","Notice!"):($(t.target).closest(".csModal").fadeOut(300),$("body").css("overflow-y","auto"),$("#ui-datepicker-div").remove())})),$(document).on("click",".js-pagination-prev",pagination_event),$(document).on("click",".js-pagination-first",pagination_event),$(document).on("click",".js-pagination-last",pagination_event),$(document).on("click",".js-pagination-next",pagination_event),$(document).on("click",".js-pagination-shift",pagination_event);let inObject=function(t,e){for(obj in e)if(e[obj].diff>=2){if(e[obj].from_date<=t&&e[obj].to_date>=t)return e[obj]}else if(e[obj].from_date==t)return e[obj];return-1};var policyOffDays=void 0;function remakeRangeRows(t,e,a,i){let s=$(t).val(),n=$(e).val();if($(a).hide(),$(`${a} tbody tr`).remove(),""==s||""==n)return;s=moment(s),n=moment(n);let o=n.diff(s,"days");i=void 0===i?"":"-"+i;var l=void 0===policyOffDays?timeOffDays:policyOffDays;let d="",r=0,c=o;for(;r<=c;r++){let t=moment(s).add(r,"days");-1===$.inArray(t.format("MM-DD-YYYY"),holidayDates)&&-1===$.inArray(t.format("dddd").toString().toLowerCase(),l)&&(d+='<tr data-id="'+r+'" data-date="'+t.format("MM-DD-YYYY")+'">',d+='    <th style="vertical-align: middle">'+t.format("MMMM Do, YYYY - dddd")+"</th>",d+='    <th style="vertical-align: middle">',d+="        <div>",d+='            <label class="control control--radio">',d+="                Full Day",d+='                <input type="radio" name="'+r+"_day_type"+i.replace(/-/g,"_")+'" checked="true" value="fullday" />',d+='                <span class="control__indicator"></span>',d+="            </label> <br />",d+='            <label class="control control--radio">',d+="                Partial Day",d+='                <input type="radio" name="'+r+"_day_type"+i.replace(/-/g,"_")+'" value="partialday" />',d+='                <span class="control__indicator"></span>',d+="            </label>",d+="        </div>",d+="    </th>",d+="    <th>",d+='        <div class="rowd" id="row_'+r+'">',d+=setTimeView("#row_"+r,"-el"+i+r,t.format("MMDDYYYY"),0),d+="        </div>",d+="    </th>",d+="</tr>")}$(`${a} tbody`).html(d),$(a).show()}function remakeRangeRowsEdit(t,e,a,i){let s=$(t).val(),n=$(e).val(),o={};if("object"==typeof i&&i.days.map((function(t,e){o[t.date]=t,void 0===t.partial&&(o[t.date].partial="fullday")})),$(`${a}`).hide(),$(`${a} tbody tr`).remove(),""==s||""==n)return;s=moment(s),n=moment(n);let l="",d=0,r=n.diff(s,"days");for(;d<=r;d++){let t=moment(s).add(d,"days"),e=o[t.format("MM-DD-YYYY")];-1===$.inArray(t.format("MM-DD-YYYY"),holidayDates)&&-1===$.inArray(t.format("dddd").toString().toLowerCase(),timeOffDays)&&(l+='<tr data-id="'+d+'" data-date="'+t.format("MM-DD-YYYY")+'">',l+='    <th style="vertical-align: middle">'+t.format("MMMM Do, YYYY")+"</th>",l+='    <th style="vertical-align: middle">',l+="        <div>",l+='            <label class="control control--radio">',l+="                Full Day",l+='                <input type="radio" name="'+d+'_day_type_edit" value="fullday" '+(void 0!==e&&"fullday"==e.partial||null==e?'checked="true"':"")+" />",l+='                <span class="control__indicator"></span>',l+="            </label>",l+='            <label class="control control--radio">',l+="                Partial Day",l+='                <input type="radio" name="'+d+'_day_type_edit" value="partialday" '+(void 0!==e&&"fullday"!=e.partial?'checked="true"':"")+" />",l+='                <span class="control__indicator"></span>',l+="            </label>",l+="        </div>",l+="    </th>",l+="    <th>",l+='        <div class="rowd" id="row_'+d+'_edit">',l+=setTimeView("#row_"+d,"-el-edit"+d,e),l+="        </div>",l+="    </th>",l+="</tr>")}""!=l&&($(`${a} tbody`).html(l),$(`${a}`).show())}function setTimeView(t,e,a){let i="";"object"==typeof a&&(a=a.date.replace(/-/gi,""));let s=window.timeoff.cPolicies[0].Settings.Slug;if("D:H:M"==s?(i+='<div class="col-sm-4">',i+='    <div class="form-group">',i+="        <label>Days </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="hour" class="form-control js-number" id="js-request-days'+(void 0===e?"":e)+'"  />',i+="    </div>",i+="</div>",i+='<div class="col-sm-4">',i+='    <div class="form-group">',i+="        <label>Hours </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="hour" class="form-control js-number" id="js-request-hours'+(void 0===e?"":e)+'" value="'+getTime(a,"hour",e)+'" />',i+="    </div>",i+="</div>",i+='<div class="col-sm-4">',i+='    <div class="form-group">',i+="        <label>Minutes </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="minute" class="form-control js-number" id="js-request-minutes'+(void 0===e?"":e)+'" value="'+getTime(a,"minute",e)+'" />',i+="    </div>",i+="</div>"):"D:H"==s?(i+='<div class="col-sm-6">',i+='    <div class="form-group">',i+="        <label>Days </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="day" class="form-control js-number" id="js-request-days'+(void 0===e?"":e)+'" value="'+getTime(a,"day",e)+'" />',i+="    </div>",i+="</div>",i+='<div class="col-sm-6">',i+='    <div class="form-group">',i+="        <label>Hours </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="hour" class="form-control js-number" id="js-request-hours'+(void 0===e?"":e)+'" value="'+getTime(a,"hour",e)+'" />',i+="    </div>",i+="</div>"):"H:M"==s?(i+='<div class="col-sm-6">',i+='    <div class="form-group">',i+="        <label>Hours </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="hour" class="form-control js-number" id="js-request-hours'+(void 0===e?"":e)+'" value="'+getTime(a,"hour",e)+'" />',i+="    </div>",i+="</div>",i+='<div class="col-sm-6">',i+='    <div class="form-group">',i+="        <label>Minutes </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="minute" class="form-control js-number" id="js-request-minutes'+(void 0===e?"":e)+'" value="'+getTime(a,"minute",e)+'" />',i+="    </div>",i+="</div>"):"H"==s?(i+='<div class="col-sm-12">',i+='    <div class="form-group">',i+="        <label>Hours </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="hour" class="form-control js-number" id="js-request-hours'+(void 0===e?"":e)+'" value="'+getTime(a,"hour",e)+'" />',i+="    </div>",i+="</div>"):(i+='<div class="col-sm-12">',i+='    <div class="form-group">',i+="        <label>Minutes </label>",i+='        <input type="text" data-ids="'+a+'" data-page="'+(null!==e.match(/edit/gi)?"edit":"add")+'" data-type="minute" class="form-control js-number" id="js-request-minutes'+(void 0===e?"":e)+'" value="'+getTime(a,"minute",e)+'" />',i+="    </div>",i+="</div>"),void 0!==e)return i;$(t).html(i)}let timeRowsOBJ={},timeRowsOBJEdit={};function getTime(t,e,a){return void 0===t?"":null!==a.match(/edit/gi)?(timeRowsOBJEdit.hasOwnProperty(t)||(timeRowsOBJEdit[t]={},timeRowsOBJEdit[t].hour=window.timeoff.cPolicies[0].Settings.ShiftHours,timeRowsOBJEdit[t].minute=window.timeoff.cPolicies[0].Settings.ShiftMinutes),timeRowsOBJEdit[t][e]):(timeRowsOBJ.hasOwnProperty(t)||(timeRowsOBJ[t]={},timeRowsOBJ[t].hour=window.timeoff.cPolicies[0].Settings.ShiftHours,timeRowsOBJ[t].minute=window.timeoff.cPolicies[0].Settings.ShiftMinutes),timeRowsOBJ[t][e])}function getRequestedDays(t,e){let a=0,i=!1,s=[];return e=void 0===e?"":"-"+e,$(`${t} tbody tr`).map((function(t,n){if(!i){var o=getTimeInMinutes(`el${e}${$(this).data("id")}`);o.requestedMinutes<0?(i=!0,alertify.alert("WARNING!","Please, add request time for date <b>"+$(this).data("date")+"</b>.",(function(){}))):o.requestedMinutes>o.defaultTimeslotMinutes&&(i=!0,alertify.alert("WARNING!","Requested time off can not be greater than shift time.",(function(){}))),s.push({date:$(this).data("date"),partial:$(this).find('input[name="'+t+"_day_type_"+e.replace(/-/,"")+'"]:checked').val(),time:o.requestedMinutes}),a=parseInt(a)+parseInt(o.requestedMinutes)}})),{totalTime:a,days:s,error:i}}function getTimeInMinutes(t){t=void 0===t?"":"-"+t;var e=0,a=0,i=0,s="",n="";return 0!==$("#js-request-days"+t).length&&(s+="D,",e=isNaN(parseInt($("#js-request-days"+t).val().trim()))?0:parseInt($("#js-request-days"+t).val().trim())),0!==$("#js-request-hours"+t).length&&(s+="H,",a=isNaN(parseInt($("#js-request-hours"+t).val().trim()))?0:parseInt($("#js-request-hours"+t).val().trim())),0!==$("#js-request-minutes"+t).length&&(s+="M,",i=isNaN(parseInt($("#js-request-minutes"+t).val().trim()))?0:parseInt($("#js-request-minutes"+t).val().trim())),n="D:H:M"==s?e+" day"+(e>1?"s":"")+", "+a+" hour"+(a>1?"s":"")+", and "+i+" minute"+(i>1?"s":""):"D"==s?e+" day"+(e>1?"s":""):"H"==s?a+" day"+(a>1?"s":""):"M"==s?i+" minute"+(i>1?"s":""):a+" hour"+(a>1?"s":"")+", and "+i+" minute"+(i>1?"s":""),{days:e,hours:a,minutes:i,defaultTimeslot:window.timeoff.cPolicies[0].Settings.Shift,defaultTimeslotMinutes:60*window.timeoff.cPolicies[0].Settings.Shift,format:s.replace(/,$/,""),formated:n,requestedMinutes:e*window.timeoff.cPolicies[0].Settings.Shift*60+60*a+i}}function getPolicy(t,e){let a=0,i=e.length;for(;a<i;a++)if(e[a].PolicyId==t)return e[a];return{}}function getUserById(t,e,a){let i=[];return a=void 0===a?user_id:a,$.each(e,((e,s)=>{s[a]==t&&(i=s)})),i}function timeConvert(t){let e=t/60,a=Math.floor(e),i=60*(e-a);return{hours:a,minutes:Math.round(i)}}function loadTitles(){$('[title][placement="left"]').tooltip({placement:"left"}),$('[title][placement="right"]').tooltip({placement:"right"}),$('[title][placement="top"]').tooltip({placement:"top"}),$("[title]").tooltip({placement:"bottom"})}function get_array_from_minutes(t,e,a){let i={};return i.timeFrame=e,i.originalMinutes=t,i["D:H:M"]={},i["D:H:M"].days=parseInt(t/(60*e)),i["D:H:M"].hours=parseInt(t%(60*e)/60),i["D:H:M"].minutes=parseInt(t%(60*e)%60),i["H:M"]={},i["H:M"].hours=parseInt(t/60),i["H:M"].minutes=parseInt(t%60),i.D={},i.D.days=(t/(60*e)).toFixed(2),i.M={},i.M.minutes=t,i.H={},i.H.hours=(t/60).toFixed(2),i.active=i[a],i.text="",void 0!==i[a].days&&(i.text+=i[a].days+" day"+(i[a].days>1||0==i[a].days?"s":"")+" & "),void 0!==i[a].hours&&(i.text+=i[a].hours+" hour"+(i[a].hours>1||0==i[a].hours?"s":"")+" & "),void 0!==i[a].minutes&&(i.text+=i[a].minutes+" minute"+(i[a].minutes>1||0==i[a].minutes?"s":"")+" & "),i.text=i.text.replace(/&$/,""),i}async function whoIsOnOffToday(){const t=await fetchTodaysOffEmployees();if(0===t.Data.length)return;let e="",a="";t.Data.map((t=>{e+=`\n        <li>\n            <a \n                href="${baseURL}employee_profile/${t.userId}" \n                target="_blank"\n                class="jsOffEmployees"\n                data-content="<span>${t.first_name} ${t.last_name}<br /><span>${remakeEmployeeName(t,!1)}</span></span>"\n            >\n                <img src="${getImageURL(t.image)}" class="csRadius50" />\n            </a>\n        </li>\n        `,a+=`\n            <li>\n                <a  href="${baseURL}employee_profile/${t.userId}" style="width: auto; height: auto;" >\n                    <div class="employee-info">\n                        <figure>\n                            <img src="${getImageURL(t.image)}" class="img-circle emp-image" />\n                        </figure>\n                        <div class="text">\n                            <h4>${t.first_name} ${t.last_name} </h4>\n                            <p>${remakeEmployeeName(t,!1)}</p>\n                        </div>\n                    </div>\n                </a>\n            </li>\n        `})),$(".csTopNavOutMobile").html(`\n        <ul style="margin-top: 5px;">\n        ${a}\n        </ul>\n    `),$(".csTopNavOut").html(` \n        <div class="container-fluid">\n            <div class="row">\n                <div class="col-sm-12">\n                    <h3>Who is off today?</h3>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-12">\n                    <ul style="margin-top: 5px;">\n                    ${e}\n                    </ul>\n                </div>\n            </div>\n        </div>`),$(".jsOffOutSideMenu").html(`<h4>Who is off today?</h4><ul>${e}</ul>`),$(".jsOffEmployees").popover({placement:"top",trigger:"hover",html:!0})}function fetchTodaysOffEmployees(){return new Promise((t=>{$.post(handlerURL,{action:"get_today_off_employees",companyId:companyId,employerId:employerId,employeeId:employeeId},(e=>{t(e)}))}))}function loadPopovers(){$(".jsPopover").popover({trigger:"hover",html:!0,placement:"top"})}function strip_tags(t){return $("<div/>").html(t).text()}function getParams(t){if(""==window.location.search)return void 0!==t?"all":{};var e={};return window.location.search.replace("?","").split("&").map((function(t){var a=t.split("=");e[a[0]]=a[1]})),void 0!==t?void 0===e[t]?"all":e[t]:e}function getText(t){var e="";return void 0!==t.minutes?void 0!==t.hours?(t.minutes/60>=1&&(t.hours+=(t.minutes/60).split(".")[0],t.minutes+=Math.floor((t.minutes/60).split(".")[1])),e=t.hours+" hours & "+t.minutes+" minutes"):e=t.minutes+" minutes":void 0!==t.hours&&(e=t.hours+" hours"),e.replace(/&$/,"").trim()}function setUpcomingTimeOffs(t){$.post(handlerURL,{action:"get_employee_upcoming_timeoffs",companyId:companyId,employerId:employerId,employeeId:t}).done((function(t){if(0!==t.Data.length){var e="";e+="<ul>",t.Data.map((function(t){var a=moment(t.request_from_date,"YYYY-MM-DD").format(timeoffDateFormat),i=moment(t.request_to_date,"YYYY-MM-DD").format(timeoffDateFormat),s=moment(t.request_to_date,"YYYY-MM-DD").diff(moment(t.request_from_date,"YYYY-MM-DD"),"days")+1;e+='    <li style="display: block;">',e+="        <p>",e+="            <strong>"+t.title+' <span class="pull-right text-'+("approved"==t.status?"success":"warning")+'">',e+="                <strong>"+ucwords(t.status)+"</strong>",e+="            </span></strong> <br/>",e+="            <span>"+a+(a==i?"":" - "+i)+"</span><br/>",e+="            <span>"+s+" Day"+(s<=1?"":"s")+"</span>",e+="            ",e+="        </p>",e+="    </li>"})),e+="</ul>",$(".jsTimeOffUpComing").html(e)}else $(".jsTimeOffUpComing").html('<p class="alert alert-info text-center">Currently, there are no upcoming time-offs.</p>')}))}$(document).on("keyup",".js-number",(function(){"add"==$(this).data("page")?timeRowsOBJ[$(this).data("ids")][$(this).data("type")]=$(this).val():timeRowsOBJEdit[$(this).data("ids")][$(this).data("type")]=$(this).val()})),loadTitles(),loadPopovers(),whoIsOnOffToday(),$(".jsFilterBtn").click((function(t){t.preventDefault(),$(`.${$(this).data("target")}`).toggle()}));