$((function(){var l="jsAdminOnboardModal",a=l+"Loader",e=[];function s(){if(e.length)return i(e);$.get(baseURI+"payroll/get/"+companyId+"/employees").done((function(l){null,i(l)})).error(n)}function i(s){if(s.length){var i="";i+='<div class="container">',i+='   <div class="row">',i+='      <div class="col-sm-12">',i+="          <label>Select Employees</label>",i+='          <select id="jsPayrollAdminEmployees">',i+='               <option value="0">[Select Employee]</option>',(e=s).map((function(l){i+='           <option value="'+l.user_id+'">'+l.full_name_with_role+"</option>"})),i+="          </select>",i+="      </div>",i+="   </div>",i+='   <div class="row">',i+='      <div class="col-sm-12">',i+="      <hr />",i+='          <label>First Name <span class="csRequired"></span></label>',i+='          <input type="text" required placeholder="John" class="form-control" id="jsPayrollAdminFirstName" />',i+="      </div>",i+="   </div>",i+='   <div class="row">',i+="      <br />",i+='      <div class="col-sm-12">',i+='          <label>Last Name <span class="csRequired"></span></label>',i+='          <input type="text" required placeholder="Doe" class="form-control" id="jsPayrollAdminLastName" />',i+="      </div>",i+="   </div>",i+='   <div class="row">',i+="      <br />",i+='      <div class="col-sm-12">',i+='          <label>Email Address <span class="csRequired"></span></label>',i+='          <input type="email" required placeholder="john.doe@example.com" class="form-control" id="jsPayrollAdminEmail" />',i+="      </div>",i+="   </div>",i+='   <div class="row">',i+="      <br />",i+='      <div class="col-sm-12 text-right">',i+='          <button class="btn btn-orange jsPayrollSaveAdmin"><i class="fa fa-save" aria-hidden="true"></i>&nbsp;Save</button>',i+='          <button class="btn btn-black jsModalCancel "><i class="fa fa-times-circle" aria-hidden="true"></i>&nbsp;Cancel</button>',i+="      </div>",i+="   </div>",i+="</div>",$("#"+l+"Body").html(i),$("#jsPayrollAdminEmployees").select2(),ml(!1,a)}else e=[]}function n(l){null,alertify.alert("Error!","The system failed to process your request. ("+l.status+")",r)}function r(){}$("#jsPayrollAdminAddBtn").click((function(e){e.preventDefault(),null,Model({Id:l,Title:'<span class="'+l+'Title">Add Admin To Payroll</span>',Body:'<div id="'+l+'Body" class="csPageWrap"></div>',Loader:a,Container:"container",CancelClass:"btn-cancel csW"},s)})),$(document).on("change","#jsPayrollAdminEmployees",(function(){if(0!==$(this).val()){var l=$(this).val();e.map((function(a){a.user_id==l&&($("#jsPayrollAdminFirstName").val(a.first_name),$("#jsPayrollAdminLastName").val(a.last_name),$("#jsPayrollAdminEmail").val(a.email))}))}})),$(document).on("click",".jsPayrollSaveAdmin",(function(e){e.preventDefault();var s={first_name:$("#jsPayrollAdminFirstName").val().trim(),last_name:$("#jsPayrollAdminLastName").val().trim(),email:$("#jsPayrollAdminEmail").val().trim()};return s.first_name?s.last_name?s.email?($.post(baseURI+"payroll/"+companyId+"/admin",s).success((function(){return null,alertify.alert("Success!","A new admin is successfully added.",(function(){$(l).find(".jsModalCancel").click(),window.location.reload()}))})).fail(n),void ml(!0,a)):alertify.alert("Warning!","Email address is required.",r):alertify.alert("Warning!","Last name is required.",r):alertify.alert("Warning!","First name is required.",r)}))}));