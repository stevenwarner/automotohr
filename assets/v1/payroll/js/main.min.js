if(String.prototype.verifyEmail=function(){return null!==this.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g)},String.prototype.isValidYoutubeLink=function(){return null!==this.match(/^(https?\:\/\/)?((www\.)?youtube\.com|youtu\.be)\/.+$/g)},String.prototype.isValidVimeoLink=function(){return null!==this.match(/^(http|https)?:\/\/(www\.|player\.)?vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|video\/|)(\d+)(?:|\/\?)$/gim)},String.prototype.isValidInteger=function(){return null!==this.match(/^[1-9]\d*$/g)},void 0===ml)function ml(e,t){e?$(".jsIPLoader[data-page='"+t+"']").show():$(".jsIPLoader[data-page='"+t+"']").hide()}if(void 0===CB)function CB(){}if(void 0===getErrorsStringFromArray)function getErrorsStringFromArray(e,t){return"<strong><p>"+(t||"Please, resolve the following errors")+"</p></strong><br >"+e.join("<br />")}if(void 0===getBrowserVersion)function getBrowserVersion(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===r[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),r)}if(void 0===generateBrowserAlert)function generateBrowserAlert(){const e={chrome:55,edge:14,firefox:52,opera:42,safari:10.1,chromeandroid:55,firefoxandroid:52,operaandroid:42,safariios:10.3,samsumginternet:6},t=getBrowserVersion();if(e[t[0].toLowerCase()]&&t[1]<e[t[0].toLowerCase()])return alert("This module require '"+t[0]+"' with version greater or equal then '"+t[1]+"'.")}if(void 0===uploadFile)function uploadFile(e){return new Promise((function(t){const r=new FormData;r.append("file",e),$.ajax({url:apiURL+"uploader",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:r}).success((function(e){t(e)})).fail((function(e){t(e.responseText)}))}))}if(void 0===uploadStream)function uploadStream(e){return new Promise((function(t){$.ajax({url:apiURL+"uploader/stream",method:"POST",timeout:0,contentType:"application/json",data:JSON.stringify({stream:e})}).success((function(e){t(e)})).fail((function(){t({})}))}))}if("undefined"!=typeof $&&($(".jsFilterPanel").height($(document).height()),$(document).on("click",".jsFilterSectionBtn",(function(e){e.preventDefault();let t=$(this).data("key");$(".jsFilterSection[data-key='"+t+"']").removeClass("hidden")})),$(document).on("click",".jsFilterSectionHideBtn",(function(e){e.preventDefault();let t=$(this).data("key");$(".jsFilterSection[data-key='"+t+"']").addClass("hidden")})),$(document).on("click",".jsExpandAdminView",(function(e){e.preventDefault(),$(this).toggleClass("btn-success"),$(".jsExpandContent").toggleClass("col-sm-12 col-md-12 col-lg-12 col-xs-12 col-lg-9 col-md-9 col-sm-9"),$(".jsExpandSideBar").toggleClass("hidden")}))),void 0===handleErrorResponse)function handleErrorResponse(e){if(0==e.status)return alertify.alert("Errors!","The connection to the server has been lost. Kindly reach out to the system administrator for assistance.",CB);const t=e.responseJSON||JSON.parse(e.responseText);return alertify.alert("Errors!",t.errors.join("<br />"),CB)}if(void 0===getQuestionsFromArray)function getQuestionsFromArray(e,t){return"<strong><p>"+(t||"Please, provide the following question answer")+"</p></strong><br >"+e.join("<br />");let r=response.responseJSON||JSON.parse(response.responseText);return alertify.alert("Errors!",r.errors.join("<br />"),CB)}if(void 0===baseUrl)function baseUrl(e=""){return window.location.origin+"/"+e}$((function(){let e=null,t="jsEarningTypesFlowModal";$(document).on("click",".jsMenuTrigger",(function(r){r.preventDefault(),function(r,o){_ml(!0,`${t}Loader`);let i="payrolls/flow/contractors/"+contractorId+"/"+r;o&&(i+="/"+o);e=$.ajax({url:baseUrl(i),method:"GET",caches:!1}).success((function(e){$(`#${t}Body`).html(e.view),function(e){"add"===e||"personal_details"===e?($(".jsContractorStartDate").datepicker({format:"mm/dd/yyyy",changeYear:!0,changeMonth:!0,yearRange:"-100:+0"}),$("#jsContractorType").trigger("change"),$("#jsContractorWageType").trigger("change"),$("#jsContractorFileNewHireReport").trigger("change")):"home_address"===e?$(".jsContractorPaymentMethod").trigger("click"):"payment_method"===e&&$(".jsContractorPaymentMethod:checked").trigger("click")}(r)})).fail(handleErrorResponse).always((function(){e=null,_ml(!1,`${t}Loader`)}))}($(this).data("step"))})),$(".jsDeactivateEarningType").click((function(e){e.preventDefault();$(this).closest("tr").data("id");return alertify.confirm("Do you really want to deactivate this earning type?<br /> This action is not revertible.",(function(){})).setHeader("Confirm!")})),$(document).on("click",".jsContractorSaveBtn",(function(r){if(r.preventDefault(),null!==e)return!1;let o={type:$("#jsContractorType option:selected").val(),wageType:$("#jsContractorWageType option:selected").val(),hourlyRate:$("#jsContractorHourlyRate").val().trim(),startDate:$("#jsContractorStartDate").val().trim(),email:$("#jsContractorEmail").val().trim(),firstName:$("#jsContractorFirstName").val().trim(),middleInitial:$("#jsContractorMiddleInitial").val().trim(),lastName:$("#jsContractorLastName").val().trim(),fileNewHireReport:$("#jsContractorFileNewHireReport option:selected").val(),workState:$("#jsContractorWorkState").val().trim(),ssn:$("#jsContractorSSN").val().trim(),isActive:$("#jsContractorIsActive option:selected").val(),businessName:$("#jsContractorBusinessName").val().trim(),ein:$("#jsContractorEIN").val().trim()},i=[];if("Hourly"!==o.wageType||o.hourlyRate||i.push('"Hourly rate" is missing.'),"Hourly"===o.wageType&&null!==o.hourlyRate.match(/[^0-9.]/gi)&&i.push('"Hourly rate" is invalid.'),o.startDate||i.push('"Start date" is missing.'),o.email&&!o.email.verifyEmail()&&i.push('"Email" is missing.'),"Individual"!==o.type||o.firstName||i.push('"First name" is missing.'),"Individual"!==o.type||o.lastName||i.push('"Last name" is missing.'),"Individual"!==o.type||"1"!==o.fileNewHireReport||o.workState||i.push('"Work state" is missing.'),"Individual"===o.type&&9!==o.ssn.replace(/\D/g,"").length&&i.push('"Social Security Number (SSN)" is missing.'),"Business"!==o.type||o.businessName||i.push('"Business name" is missing.'),"Business"===o.type&&9!==o.ein.replace(/\D/g,"").length&&i.push('"EIN" is missing.'),i.length)return alertify.alert("Error!",getErrorsStringFromArray(i),CB);ml(!0,`${t}Loader`,"Please wait, while we are processing your request."),e=$.ajax({url:baseUrl("payrolls/flow/contractors/add"),method:"POST",data:o}).success((function(e){return alertify.alert("Success!",e.msg,CB)})).fail(handleErrorResponse).always((function(){e=null,ml(!1,`${t}Loader`)}))})),$.ajaxSetup({cache:!1}),ml(!1,"jsPageLoader")}));