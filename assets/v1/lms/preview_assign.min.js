$((function(){let e=null;if("scorm"===courseType){window.sendCourseToSave=function(s){e=$.ajax({url:apiURL+"lms/trainings/save_scorm/"+employeeId,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({courseId:courseId,cmiElement:s,type:"scorm",version:scormVersion})}).success((function(e){return"failed"===e.status?alertify.alert("WARNING!","Apologies for not passing this course. We highly encourage you to consider giving it another attempt.",(function(){window.location=baseURI+"lms/courses/"+courseId})):"passed"===e.status?alertify.alert("SUCCESS!","Congratulations on successfully passing this course!",(function(){window.location=baseURI+"lms/courses/my"})):void 0})).fail(handleErrorResponse).done((function(s){e=null}))}}$(document).on("click",".jsSaveQuestionResult",(function(s){s.preventDefault();var o=[],t={};if(JSON.parse(questions).map((function(e){var s=e.question_type+"_"+e.question_id;if("yes_no"===e.question_type||"single_choice"===e.question_type){var n=$("input[name="+s+"]:checked").val();t[e.question_id]=n,n&&void 0!==n||"yes"===e.is_required&&o.push(e.question_title)}else if("multiple_choice"===e.question_type){var i=[];$("input[name='"+s+"']:checked").each((function(){i.push($(this).val())})),t[e.question_id]=i,0==i.length&&"yes"===e.is_required&&o.push(e.question_title)}else if("text"===e.question_type){var r=$('textarea[name="textarea_'+e.question_id+'"]').val();t[e.question_id]=r,r&&void 0!==r||"yes"===e.is_required&&o.push(e.question_title)}})),o.length)return alertify.alert("WARNING!",getQuestionsFromArray(o),CB);try{return function(s){null!==e&&e.abort();ml(!0,"jsPageLoader"),e=$.ajax({url:apiURL+"lms/trainings/"+employeeId,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({courseId:courseId,answers:s})}).success((function(s){return e=null,"failed"===s.status?alertify.alert("WARNING!","Apologies for not passing this course. We highly encourage you to consider giving it another attempt.",(function(){window.location=baseURI+"lms/courses/"+courseId})):"passed"===s.status?alertify.alert("SUCCESS!","Congratulations on successfully passing this course!",(function(){window.location=baseURI+"lms/courses/my"})):void ml(!1,"jsPageLoader")})).fail(handleErrorResponse).done((function(){e=null,ml(!1,"jsPageLoader")}))}(t),alertify.alert("SUCCESS!",createCourseResponse.data,(function(){getLMSDefaultCourses(),$("#"+modalId).remove()}))}catch(e){return ml(!1,modalLoaderId),alertify.alert("ERROR!",getErrorsStringFromArray(e.errors,"Errors!!"),CB)}})),null!==e&&e.abort(),ml(!0,"jsPageLoader"),e=$.ajax({url:apiURL+"lms/trainings/"+employeeId+"/"+courseId,method:"GET"}).success((function(s){e=null,$("#jsPreviewCourse").html(s),"manual"===courseType&&(null!==e&&e.abort(),ml(!0,"jsPageLoader"),e=$.ajax({url:apiURL+"lms/trainings/"+employeeId+"/"+courseId+"/questions/"+mode,method:"GET"}).success((function(s){e=null,$("#jsPreviewCourseQuestion").html(s),ml(!1,"jsPageLoader")})).fail(handleErrorResponse).done((function(){e=null,ml(!1,"jsPageLoader")}))),ml(!1,"jsPageLoader")})).fail(handleErrorResponse).always((function(){e=null,ml(!1,"jsPageLoader")}))}));