$((function(){let t=null,s={title:"",status:"all"},e="MMM DD YYYY, ddd";function a(){null!==t&&t.abort(),ml(!0,"jsPageLoader"),t=$.ajax({url:apiURL+"lms/trainings/"+employeeId+"?title="+s.title+"&status="+s.status,method:"GET"}).success((function(s){t=null;let a="",i=s.data.count,o=s.data.courses;s.data.completedIds;$("#jsAssignedCount").html(i.assigned),$("#jsPendingCount").html(i.pending),$("#jsCompletedCount").html(i.completed),$("#jsExpiredSoonCount").html(i.expire_soon),o.length?o.map((function(t){if((null==t.employee_sid||t.employee_sid==employeeId)&&s.data.assignedIds.includes(t.sid)){if(s.data.expiredSoonIds.includes(t.sid)?a+='<article class="article-sec" style="background: #fcf8e3 !important">':s.data.expiredIds.includes(t.sid)?a+='<article class="article-sec" style="background: #f2dede !important">':a+='<article class="article-sec">',s.data.expiredSoonIds.includes(t.sid)){const s=moment(t.course_end_period,"YYYY-MM-DD"),e=moment(),o=s.diff(e,"days");var i="";i=0==o?"Expire Day":1==o?`Expired in ${o} day`:`Expired in ${o} days`,a+='    <div class="row">',a+='        <div class="col-md-12 col-xs-12 text-right">',a+=`        \t<a href="javascript:;" class="btn btn-warning btn-xs csRadius5 csF14" title="This course is expired in ${o} days" placement="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-info-circle csF14" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;${i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>`,a+="        </div>",a+="    </div>"}if(s.data.expiredIds.includes(t.sid)){const s=moment(t.course_end_period,"YYYY-MM-DD"),e=moment(),i=Math.abs(s.diff(e,"days"));var o="";o=0==i?"Expire Day":1==i?`Expired ${i} day ago`:`Expired ${i} days ago`,a+='    <div class="row">',a+='        <div class="col-md-12 col-xs-12 text-right">',a+=`        \t<a href="javascript:;" class="btn btn-danger btn-xs csRadius5 csF14" title="This course expired ${i} days ago." placement="top">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-info-circle csF14" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;${o}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>`,a+="        </div>",a+="    </div>"}a+="    <h1>",a+=t.course_title,a+="    </h1>",a+="    <br>",a+='    <div class="row">',a+='        <div class="col-md-3 col-xs-12">',a+='            <p class="csColumSection"><strong>ASSIGNED DATE</strong></p>',a+=`            <p>${moment(t.course_start_period).format(e)}</p>`,a+="        </div>",a+='        <div class="col-md-3 col-xs-12">',a+='            <p class="csColumSection"><strong>DUE DATE</strong></p>',a+=`            <p>${moment(t.course_end_period).format(e)}</p>`,a+="        </div>",a+='        <div class="col-md-3 col-xs-12">',a+='            <p class="csColumSection"><strong>STATUS</strong></p>',a+=`            <p>${"passed"==t.course_status?"COMPLETED":"PENDING"}</p>`,a+="        </div>",a+='        <div class="col-md-3 col-xs-12">',a+='            <p class="csColumSection"><strong>ASSIGNED TO</strong></p>',a+=`            <p>${s.data.employeeName}</p>`,a+="        </div>",a+="    </div>",a+='    <div class="row">',a+='        <div class="col-md-3 col-xs-12 hidden">',a+='            <p class="csColumSection"><strong>TIME REMAINING/TOTAL</strong></p>',a+="            <p>15 min / 15 min</p>",a+="        </div>",a+='        <div class="col-md-3 col-xs-12">',a+='            <p class="csColumSection"><strong>STARTED DATE </strong></p>',a+=`            <p>${t.created_at?moment(t.created_at).format(e):"-"}</p>`,a+="        </div>",a+='        <div class="col-md-3 col-xs-12">',a+='            <p class="csColumSection"><strong>LANGUAGE</strong></p>',a+='            <select class="form-control">',a+='                <option value="eng">English</option>',a+="            </select>",a+="        </div>",a+='        <div class="col-md-6 col-xs-12 text-right">',a+="            <p>&nbsp;</p>","passed"==t.course_status?(a+=`            <a class="btn btn-info csRadius5 csF16" href="${baseURI+"lms/courses/"+t.sid}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-eye"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView Content\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>`,a+=`        <a class="btn btn-info csRadius5 csF16" href="${window.location.origin}/lms/courses/${t.sid}/${employeeId}/my/certificate">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-eye"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView Certificate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>`):a+=`            <a class="btn btn-info csRadius5 csF16" href="${baseURI+"lms/courses/"+t.sid}">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLaunch Content\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>`,a+="        </div>",a+="    </div>",a+="</article>"}})):a='<p class="alert alert-info text-center">No trainings found.</p>',$("#jsMyAssignedCourses").html(a),ml(!1,"jsPageLoader")})).fail(handleErrorResponse).always((function(){t=null,ml(!1,"jsPageLoader")}))}$(".jsFilterBox").click((function(t){t.preventDefault(),$(".jsCourseTitleMyCourse").val(""),$('.jsCourseStatus option[value="'+$(this).data("key")+'"]').prop("selected",!0),s.title=$(".jsCourseTitleMyCourse").val()||"",s.status=$(".jsCourseStatus").val(),a()})),$(".jsApplyFilterMyCourse").click((function(t){t.preventDefault(),s.title=$(".jsCourseTitleMyCourse").val()||"",s.status=$(".jsCourseStatus").val(),a()})),$(".jsClearFilterMyCourse").click((function(t){t.preventDefault(),$(".jsCourseTitleMyCourse").val(""),$('.jsCourseStatus option[value="all"]').prop("selected",!0),s.title=$(".jsCourseTitleMyCourse").val()||"",s.status=$(".jsCourseStatus").val(),a()})),a()}));