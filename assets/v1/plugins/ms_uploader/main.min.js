!function(e){let a={};e.fn.msFileUploader=function(i){let r=this.length>1?this[0]:this;if("string"==typeof i){switch(i){case"get":return a[r.selector];case"clear":return delete a[r.selector]}return}let s={},t=Math.ceil(1e3*Math.random()),o={};a[r.selector]=s,o.s3=void 0!==i&&i.s3||"https://automotohrattachments.s3.amazonaws.com/",o.path=void 0===i||void 0===i.path||i.path,o.placeholderImage=void 0!==i&&i.placeholderImage||"",o.fileLimit=void 0===i||-1===e.inArray("mp4",i.allowedTypes)?-1:i.fileLimit,o.allowedTypes=void 0!==i&&i.allowedTypes||["jpg","jpeg","png","gif","pdf","doc","docx","rtf","ppt","xls","xlsx","csv","zip"],o.text=void 0!==i&&i.text||"Click / Drag to upload",o.onSuccess=void 0!==i&&i.onSuccess||function(){},o.onError=void 0!==i&&i.onError||function(){},o.onClear=void 0!==i&&i.onClear||function(){},o.mainDivName=`jsUploadArea${t}`,o.mainImageViewer=`jsUploadedImageArea${t}`,o.errorMSG=`jsUploadedAreaError${t}`,o.jsMFUPreviewFile=`jsMFUPreviewFile${t}`,o.jsMFUClearFile=`jsMFUClearFile${t}`,o.jsMFUModal=`jsMFUModal${t}`,o.jsMFUD=`jsMFUD${t}`;let l={size:`File size exceeded from ${o.fileLimit}`,type:"Invalid file type."};e(r.selector).siblings("div.jsMainUploadAreaWrapper").remove(),e.fn.msFileUploader.__proto__.instances[r.selector]={};void 0!==e.fn.msFileUploader.instances[r.selector]&&(e(r.selector).siblings("div.csUploadArea").remove(),e.fn.msFileUploader.__proto__.instances[r.selector]={});const n=()=>`\n            <div class="jsMainUploadAreaWrapper">\n                <div class="csUploadArea" id="${o.mainDivName}">\n                    <div class="csUploadInnerArea">\n                        <p>${o.text}</p>\n                        ${-1!=o.fileLimit?`<em style="color:rgb(255, 155, 0);"><i class="fa fa-warning"></i> Maximum allowed file size is ${o.fileLimit}</em><br />`:""}\n                        <span>(${o.allowedTypes})</span> <br /><br />\n                        <span style="color: red; font-weight: bold; display: none;" id="${o.errorMSG}"></span>\n                        <div style="${o.placeholderImage?"":"display: none;"}">\n                            <button class="btn btn-success" id="${o.jsMFUPreviewFile}" data-key="${o.placeholderImage}">Preview File</button>\n                            <button class="btn btn-default" id="${o.jsMFUClearFile}" style="display: none;">Clear File</button>\n                        </div>\n                    </div>\n                    \x3c!-- Image --\x3e\n                </div>\n                <div class="clearfix"></div>\n                \x3c!-- <div style="${o.placeholderImage?"":"display: none;"}">\n                <br /> \n                    <label><strong>FileName:</strong> <span>${o.placeholderImage?o.placeholderImage[0]:""}</span></label>\n                    <img src="${o.placeholderImage?o.placeholderImage[1]:""}" class="csUploadAreaImage" id="${o.mainImageViewer}" />\n                </div> --\x3e\n            </div>\n            `,d=e=>{let a=void 0===e?s.name.split("."):e.split(".");return a[a.length-1].toLowerCase().trim()},c=i=>(e(`#${o.jsMFUPreviewFile}`).parent().hide(0),e(`#${o.jsMFUClearFile}`).hide(0),e(`#${o.errorMSG}`).hide(),e(`#${o.mainImageViewer}`).parent().hide(),e(`#${o.mainImageViewer}`).attr("src",null),e(`#${o.mainImageViewer}`).parent().find("label span").text(""),s.hasOwnProperty("hasError")&&(s.hasError=!1),-1===e.inArray(d(),o.allowedTypes)?(e(`#${o.errorMSG}`).text(l.type).show(),o.onError(l.type,i),s.hasError=!0,s.errorCode=l.type,a[r.selector]=s,void(s={})):-1!==o.fileLimit&&s.size>(()=>{let e=o.fileLimit.replace(/\s+/,"").toUpperCase().split(/([0-9]+)([A-Za-z]+)/);return e=[e[1],e[2]],"MB"==e[1]?1e6*e[0]:"GB"==e[1]?1e3*e[0]*1e6:"KB"==e[1]?1e3*e[0]:0})()?(e(`#${o.errorMSG}`).text(l.size).show(),o.onError(l.size,i),s.hasError=!0,s.errorCode=l.size,a[r.selector]=s,void(s={})):((a=>{if(a){let i=new FileReader;i.onload=a=>{e(`#${o.jsMFUPreviewFile}`).data("key",a.target.result),e(`#${o.jsMFUPreviewFile}`).parent().show(),e(`#${o.jsMFUClearFile}`).show()},i.readAsDataURL(a)}})(s),s.hasError=!1,a[r.selector]=s,void o.onSuccess(s,i)));return this.getValue=()=>s,e(document).on("drop",`#${o.mainDivName}`,(function(e){e.preventDefault(),s=e.originalEvent.dataTransfer.files[0],c(e)})),e(document).on("dragenter",`#${o.mainDivName}`,(function(a){a.preventDefault(),e(this).css("opacity",".8")})),e(document).on("dragover",`#${o.mainDivName}`,(function(a){a.preventDefault(),e(this).css("opacity","1")})),e(document).on("click",`#${o.mainDivName}`,(function(a){a.preventDefault(),e(r).trigger("click")})),e(document).on("change",r.selector,(function(e){s=e.target.files[0],c(e)})),e(document).on("click",`.${o.jsMFUD}`,(function(a){a.preventDefault(),a.stopPropagation();let i="",r="";null===e(`#${o.jsMFUPreviewFile}`).data("key").match(/data:/)?(i=e(`#${o.jsMFUPreviewFile}`).data("key"),r=o.path?o.s3+i:i):(i=s.name,r=e(`#${o.jsMFUPreviewFile}`).data("key"));let t=document.createElement("a");t.target="_blank",t.href=r,t.download=i,t.dispatchEvent(new MouseEvent("click"))})),e(document).on("click",`#${o.jsMFUClearFile}`,(function(i){i.preventDefault(),i.stopPropagation(),e(`#${o.jsMFUPreviewFile}`).parent().hide(0),e(`#${o.jsMFUClearFile}`).hide(0),s={},a[r.selector]=s,""!=o.placeholderImage&&(e(`#${o.jsMFUPreviewFile}`).data("key",o.placeholderImage),e(`#${o.jsMFUPreviewFile}`).parent().show(0)),o.onClear()})),e(document).on("click",`#${o.jsMFUPreviewFile}`,(function(a){a.preventDefault(),a.stopPropagation();let i="",r="",t="",l="";null===e(this).data("key").match(/data:/)?(i=e(this).data("key"),r=d(i),t=o.path?o.s3+i:i,l=-1!==e.inArray(r,["xls","xlsx","ppt","pptx","doc","docx","rtf","csv"])?`<iframe frameborder="0" width="100%" height="600" class="jsMFUIframe" src="https://view.officeapps.live.com/op/embed.aspx?src=${encodeURI(t)}"></iframe>`:-1!==e.inArray(r,["png","jpg","jpeg","gif","svg"])?`<img class="img-responsive" src="${t}" />`:-1!==e.inArray(r,["mp4"])?`<video style="width: 100%;" class="img-responsive" src="${t}" controls></video>`:-1!==e.inArray(r,["zip"])?`<iframe frameborder="0" style="width: 100%; height: 600px;" class="jsMFUIframe" src="${t}"></iframe>`:`<iframe frameborder="0" style="width: 100%; height: 600px;" class="jsMFUIframe" src="https://docs.google.com/gview?url=${t}&embedded=true"></iframe>`):(i=s.name,r=d(),t=e(this).data("key"),l=-1!==e.inArray(r,["png","jpg","jpeg","gif","svg"])?`<img class="img-responsive" src="${t}" />`:-1!==e.inArray(r,["mp4"])?`<video class="img-responsive" src="${t}" controls></video>`:`<iframe frameborder="0" style="width: 100%; height: 600px;" class="jsMFUIframe" src="${t}"></iframe>`);const n=((e,a)=>`\n            \x3c!-- Modal --\x3e\n            <div class="modal fade" id="${o.jsMFUModal}" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">\n                <div class="modal-dialog modal-lg" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header" style="background-color: #81b431; color: #ffffff;">\n                            <h5 class="modal-title">${a}</h5>\n                        </div>\n                        <div class="modal-body" style="min-height: 300px;">\n                            <div class="csMFULoader jsMFULoader"><i class="fa fa-circle-o-notch fa-spin"></i></div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-success ${o.jsMFUD}">Download</button>\n                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            `)(0,i);e(`#${o.jsMFUModal}`).remove(),e("body").append(n),e(`#${o.jsMFUModal}`).modal("show"),l.match(/img/),e(`#${o.jsMFUModal} .modal-body`).html(l)})),e(r).before(n()),this},e.fn.msFileUploader.__proto__.instances=a}(jQuery||$);