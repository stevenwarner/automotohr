$((function(){let a=0,t=null;function i(){null!==t&&t.abort(),t=$.get(baseURI+"get_payroll_admins/"+a).success((function(a){t=null,$("#jsManageGustoAdminsModalBody").html(a.view),ml(!1,"jsManageGustoAdminsModalLoader")})).fail((function(){t=null,$("#jsManageGustoAdminsModalBody").html('<strong class="alert alert-danger text-center">Something went wrong. Please try again in few seconds.</strong>'),ml(!1,"jsManageGustoAdminsModalLoader")}))}function e(){null!==t&&t.abort(),t=$.get(baseURI+"payroll/signatories/"+a).success((function(a){t=null,$("#jsManageGustoSignatoriesModalBody").html(a.view),$("#jsSignatoryAddBirthDay").datepicker({changeYear:!0,changeMonth:!0}),$("#jsSignatoryEditBirthDay").datepicker({changeYear:!0,changeMonth:!0}),ml(!1,"jsManageGustoSignatoriesModalLoader")})).fail((function(){t=null,$("#jsManageGustoSignatoriesModalBody").html('<strong class="alert alert-danger text-center">Something went wrong. Please try again in few seconds.</strong>'),ml(!1,"jsManageGustoSignatoriesModalLoader")}))}function n(){null!==t&&t.abort(),t=$.get(baseURI+"payroll/gusto/managepayment/"+a).success((function(a){t=null,$("#jsManagePaymentsBody").html(a.view),ml(!1,"jsManageGustoSignatoriesModalLoader")})).fail((function(){t=null,$("#jsManagePaymentsBody").html('<strong class="alert alert-danger text-center">Something went wrong. Please try again in few seconds.</strong>'),ml(!1,"jsManageGustoSignatoriesModalLoader")}))}"undefined"==typeof Modal&&(Modal=Model),$(document).on("click",".jsExpandRow",(function(a){a.preventDefault(),$('.jsExpandRowArea[data-id="'+$(this).data("id")+'"]').toggleClass("dn")})),$(".jsManageGustoAdmins").click((function(t){t.preventDefault(),a=$(this).data("cid"),Modal({Id:"jsManageGustoAdminsModal",Loader:"jsManageGustoAdminsModalLoader",Body:'<div id="jsManageGustoAdminsModalBody"></div>',Title:"Manage Admins for Payroll"},i)})),$(document).on("click",".jsAddAdmin",(function(a){a.preventDefault(),$(".jsSection").removeClass("dn"),$('.jsSection[data-key="view"]').addClass("dn")})),$(document).on("click",".jsAdminView",(function(a){a.preventDefault(),$(".jsSection").removeClass("dn"),$('.jsSection[data-key="add"]').addClass("dn")})),$(document).on("click",".jsAddAdminSaveBtn",(function(i){i.preventDefault();var e={firstName:$("#jsAdminFirstName").val().trim(),lastName:$("#jsAdminLastName").val().trim(),emailAddress:$("#jsAdminEmailAddress").val().trim(),companyId:a};return e.firstName?e.lastName?e.emailAddress?e.emailAddress.verifyEmail()?(ml(!0,"jsManageGustoAdminsModalLoader"),void(t=$.post(baseURI+"payroll/admin/"+a,e).success((function(a){return t=null,ml(!1,"jsManageGustoAdminsModalLoader"),a.errors?alertify.alert("Error!",a.errors.join("<br />"),(function(){})):alertify.alert("Success!",a.success,(function(){$("#jsManageGustoAdminsModal .jsModalCancel").trigger("click"),$(".jsManageGustoAdmins").trigger("click")}))})).fail((function(){t=null,ml(!1,"jsManageGustoAdminsModalLoader")})))):alertify.alert("Warning!","Email address is malformed.",(function(){})):alertify.alert("Warning!","Email address is required.",(function(){})):alertify.alert("Warning!","Last name is required.",(function(){})):alertify.alert("Warning!","First name is required.",(function(){}))})),$(".jsManageGustoSignatories").click((function(t){t.preventDefault(),a=$(this).data("cid"),Modal({Id:"jsManageGustoSignatoriesModal",Loader:"jsManageGustoSignatoriesModalLoader",Body:'<div id="jsManageGustoSignatoriesModalBody"></div>',Title:"Manage Signatories for Payroll"},e)})),$(document).on("click",".jsAddSignatory",(function(a){a.preventDefault(),$(".jsSection").removeClass("dn"),$('.jsSection[data-key="edit"]').addClass("dn"),$('.jsSection[data-key="view"]').addClass("dn")})),$(document).on("click",".jsSignatoriesView",(function(a){a.preventDefault(),$(".jsSection").removeClass("dn"),$('.jsSection[data-key="add"]').addClass("dn"),$('.jsSection[data-key="edit"]').addClass("dn")})),$(document).on("click",".jsEditSignatory",(function(a){a.preventDefault(),$(".jsSection").removeClass("dn"),$('.jsSection[data-key="add"]').addClass("dn"),$('.jsSection[data-key="view"]').addClass("dn")})),$(document).on("click",".jsDeleteSignatory",(function(i){i.preventDefault();const e=$(this).data("id");return alertify.confirm("Are you sure you want to delete this signatory?",(function(){!function(i){null!==t&&t.abort();t=$.ajax({method:"DELETE",url:baseURI+"payroll/signatories/"+a+"/"+i}).success((function(a){t=null,$("#jsManageGustoSignatoriesModal .jsModalCancel").trigger("click"),$(".jsManageGustoSignatories").trigger("click")})).fail((function(){t=null,ml(!1,"jsManageGustoSignatoriesModalLoader")}))}(e)}))})),$(document).on("click",".jsAddSignatorySaveBtn",(function(i){i.preventDefault();var e={ssn:$("#jsSignatoryAddSsn").val().trim(),firstName:$("#jsSignatoryAddFirstName").val().trim(),middleInitial:$("#jsSignatoryAddMiddleInitial").val().trim(),lastName:$("#jsSignatoryAddLastName").val().trim(),email:$("#jsSignatoryAddEmail").val().trim(),title:$("#jsSignatoryAddTitle").val().trim(),birthday:$("#jsSignatoryAddBirthDay").val().trim(),phone:$("#jsSignatoryAddPhone").val().trim(),street1:$("#jsSignatoryAddStreet1").val().trim(),street2:$("#jsSignatoryAddStreet2").val().trim(),state:$("#jsSignatoryAddState").val().trim(),city:$("#jsSignatoryAddCity").val().trim(),zip:$("#jsSignatoryAddZip").val().trim(),companyId:a};return e.ssn?e.firstName?e.lastName?e.email?e.email.verifyEmail()?e.title?e.birthday?e.street1?e.state?e.city?e.zip?(ml(!0,"jsManageGustoSignatoriesModalLoader"),void(t=$.post(baseURI+"payroll/signatory/"+a,e).success((function(a){return t=null,ml(!1,"jsManageGustoSignatoriesModalLoader"),a.errors?alertify.alert("Error!",a.errors.join("<br />"),(function(){})):alertify.alert("Success!",a.success,(function(){$("#jsManageGustoSignatoriesModal .jsModalCancel").trigger("click"),$(".jsManageGustoSignatories").trigger("click")}))})).fail((function(){t=null,ml(!1,"jsManageGustoSignatoriesModalLoader")})))):alertify.alert("Warning!","Zip is required.",(function(){})):alertify.alert("Warning!","City is required.",(function(){})):alertify.alert("Warning!","State is required.",(function(){})):alertify.alert("Warning!","Street 1 is required.",(function(){})):alertify.alert("Warning!","Birthday is required.",(function(){})):alertify.alert("Warning!","Title is required.",(function(){})):alertify.alert("Warning!","Email address is malformed.",(function(){})):alertify.alert("Warning!","Email address is required.",(function(){})):alertify.alert("Warning!","Last name is required.",(function(){})):alertify.alert("Warning!","First name is required.",(function(){})):alertify.alert("Warning!","Social Security Number (SSN) is required.",(function(){}))})),$(document).on("click",".jsEditSignatorySaveBtn",(function(i){i.preventDefault();var e={ssn:$("#jsSignatoryEditSsn").val().trim(),firstName:$("#jsSignatoryEditFirstName").val().trim(),middleInitial:$("#jsSignatoryEditMiddleInitial").val().trim(),lastName:$("#jsSignatoryEditLastName").val().trim(),title:$("#jsSignatoryEditTitle").val().trim(),birthday:$("#jsSignatoryEditBirthDay").val().trim(),phone:$("#jsSignatoryEditPhone").val().trim(),street1:$("#jsSignatoryEditStreet1").val().trim(),street2:$("#jsSignatoryEditStreet2").val().trim(),state:$("#jsSignatoryEditState").val().trim(),city:$("#jsSignatoryEditCity").val().trim(),zip:$("#jsSignatoryEditZip").val().trim(),id:$("#jsSignatoryEditId").val().trim(),companyId:a};return e.ssn?e.firstName?e.lastName?e.title?e.birthday?e.street1?e.state?e.city?e.zip?(ml(!0,"jsManageGustoSignatoriesModalLoader"),void(t=$.ajax({method:"PUT",url:baseURI+"payroll/signatory/"+a,data:e}).success((function(a){return t=null,ml(!1,"jsManageGustoSignatoriesModalLoader"),a.errors?alertify.alert("Error!",a.errors.join("<br />"),(function(){})):alertify.alert("Success!",a.success,(function(){$("#jsManageGustoSignatoriesModal .jsModalCancel").trigger("click"),$(".jsManageGustoSignatories").trigger("click")}))})).fail((function(){t=null,ml(!1,"jsManageGustoSignatoriesModalLoader")})))):alertify.alert("Warning!","Zip is required.",(function(){})):alertify.alert("Warning!","City is required.",(function(){})):alertify.alert("Warning!","State is required.",(function(){})):alertify.alert("Warning!","Street 1 is required.",(function(){})):alertify.alert("Warning!","Birthday is required.",(function(){})):alertify.alert("Warning!","Title is required.",(function(){})):alertify.alert("Warning!","Last name is required.",(function(){})):alertify.alert("Warning!","First name is required.",(function(){})):alertify.alert("Warning!","Social Security Number (SSN) is required.",(function(){}))})),$(document).on("change","#jsadminemployees",(function(a){a.preventDefault();let t=$(this).val();if(""!=t){const a=t.split("#");$("#jsAdminFirstName").val(a[0]),$("#jsAdminLastName").val(a[1]),$("#jsAdminEmailAddress").val(a[2])}})),$(document).on("change","#adminesignatories",(function(a){a.preventDefault();let t=$(this).val();if(""!=t){const a=t.split("#");$("#jsSignatoryAddFirstName").val(a[0]),$("#jsSignatoryAddLastName").val(a[1]),$("#jsSignatoryAddEmail").val(a[2]),$("#jsSignatoryAddMiddleInitial").val(a[3]),$("#jsSignatoryAddSsn").val(a[4]),$("#jsSignatoryAddTitle").val(a[5]),$("#jsSignatoryAddPhone").val(a[7]),$("#jsSignatoryAddBirthDay").val(a[6]),$("#jsSignatoryAddStreet1").val(a[8]),$("#jsSignatoryAddStreet2").val(a[9]),$("#jsSignatoryAddState").val(a[12]),$("#jsSignatoryAddCity").val(a[11]),$("#jsSignatoryAddZip").val(a[10])}})),$(".jsManagePayments").click((function(t){t.preventDefault(),a=$(this).data("cid"),Modal({Id:"jsManagePaymentsModal",Loader:"jsManageGustoSignatoriesModalLoader",Body:'<div id="jsManagePaymentsBody"></div>',Title:"Manage Payment"},n)}))}));